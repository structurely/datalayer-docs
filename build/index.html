
<!doctype html>
<html>
  <head>
    <meta charset="utf-8">
    <meta content="IE=edge,chrome=1" http-equiv="X-UA-Compatible">
    <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">
    <title>API Reference</title>

    <style>
      .highlight table td { padding: 5px; }
.highlight table pre { margin: 0; }
.highlight .gh {
  color: #999999;
}
.highlight .sr {
  color: #f6aa11;
}
.highlight .go {
  color: #888888;
}
.highlight .gp {
  color: #555555;
}
.highlight .gs {
}
.highlight .gu {
  color: #aaaaaa;
}
.highlight .nb {
  color: #f6aa11;
}
.highlight .cm {
  color: #75715e;
}
.highlight .cp {
  color: #75715e;
}
.highlight .c1 {
  color: #75715e;
}
.highlight .cs {
  color: #75715e;
}
.highlight .c, .highlight .cd {
  color: #75715e;
}
.highlight .err {
  color: #960050;
}
.highlight .gr {
  color: #960050;
}
.highlight .gt {
  color: #960050;
}
.highlight .gd {
  color: #49483e;
}
.highlight .gi {
  color: #49483e;
}
.highlight .ge {
  color: #49483e;
}
.highlight .kc {
  color: #66d9ef;
}
.highlight .kd {
  color: #66d9ef;
}
.highlight .kr {
  color: #66d9ef;
}
.highlight .no {
  color: #66d9ef;
}
.highlight .kt {
  color: #66d9ef;
}
.highlight .mf {
  color: #ae81ff;
}
.highlight .mh {
  color: #ae81ff;
}
.highlight .il {
  color: #ae81ff;
}
.highlight .mi {
  color: #ae81ff;
}
.highlight .mo {
  color: #ae81ff;
}
.highlight .m, .highlight .mb, .highlight .mx {
  color: #ae81ff;
}
.highlight .sc {
  color: #ae81ff;
}
.highlight .se {
  color: #ae81ff;
}
.highlight .ss {
  color: #ae81ff;
}
.highlight .sd {
  color: #e6db74;
}
.highlight .s2 {
  color: #e6db74;
}
.highlight .sb {
  color: #e6db74;
}
.highlight .sh {
  color: #e6db74;
}
.highlight .si {
  color: #e6db74;
}
.highlight .sx {
  color: #e6db74;
}
.highlight .s1 {
  color: #e6db74;
}
.highlight .s {
  color: #e6db74;
}
.highlight .na {
  color: #a6e22e;
}
.highlight .nc {
  color: #a6e22e;
}
.highlight .nd {
  color: #a6e22e;
}
.highlight .ne {
  color: #a6e22e;
}
.highlight .nf {
  color: #a6e22e;
}
.highlight .vc {
  color: #ffffff;
}
.highlight .nn {
  color: #ffffff;
}
.highlight .nl {
  color: #ffffff;
}
.highlight .ni {
  color: #ffffff;
}
.highlight .bp {
  color: #ffffff;
}
.highlight .vg {
  color: #ffffff;
}
.highlight .vi {
  color: #ffffff;
}
.highlight .nv {
  color: #ffffff;
}
.highlight .w {
  color: #ffffff;
}
.highlight {
  color: #ffffff;
}
.highlight .n, .highlight .py, .highlight .nx {
  color: #ffffff;
}
.highlight .ow {
  color: #f92672;
}
.highlight .nt {
  color: #f92672;
}
.highlight .k, .highlight .kv {
  color: #f92672;
}
.highlight .kn {
  color: #f92672;
}
.highlight .kp {
  color: #f92672;
}
.highlight .o {
  color: #f92672;
}
    </style>
    <link href="stylesheets/screen.css" rel="stylesheet" media="screen" />
    <link href="stylesheets/print.css" rel="stylesheet" media="print" />
      <script src="javascripts/all.js"></script>
  </head>

  <body class="index" data-languages="[&quot;curl&quot;]">
    <a href="#" id="nav-button">
      <span>
        NAV
        <img src="images/navbar.png" alt="Navbar" />
      </span>
    </a>
    <div class="toc-wrapper">
      <img src="images/logo.png" class="logo" alt="Logo" />
        <div class="lang-selector">
              <a href="#" data-language-name="curl">curl</a>
        </div>
        <div class="search">
          <input type="text" class="search" id="input-search" placeholder="Search">
        </div>
        <ul class="search-results"></ul>
      <ul id="toc" class="toc-list-h1">
          <li>
            <a href="#introduction" class="toc-h1 toc-link" data-title="Introduction">Introduction</a>
          </li>
          <li>
            <a href="#authentication" class="toc-h1 toc-link" data-title="Authentication">Authentication</a>
          </li>
          <li>
            <a href="#overview" class="toc-h1 toc-link" data-title="Overview">Overview</a>
              <ul class="toc-list-h2">
                  <li>
                    <a href="#overview-endpoints" class="toc-h2 toc-link" data-title="Endpoints">Endpoints</a>
                  </li>
                  <li>
                    <a href="#overview-types" class="toc-h2 toc-link" data-title="Types">Types</a>
                  </li>
              </ul>
          </li>
          <li>
            <a href="#agents" class="toc-h1 toc-link" data-title="Agents">Agents</a>
              <ul class="toc-list-h2">
                  <li>
                    <a href="#agents-schemas" class="toc-h2 toc-link" data-title="Schemas">Schemas</a>
                  </li>
                  <li>
                    <a href="#agents-list-agents" class="toc-h2 toc-link" data-title="List Agents">List Agents</a>
                  </li>
                  <li>
                    <a href="#agents-create-lead" class="toc-h2 toc-link" data-title="Create Lead">Create Lead</a>
                  </li>
              </ul>
          </li>
          <li>
            <a href="#leads" class="toc-h1 toc-link" data-title="Leads">Leads</a>
              <ul class="toc-list-h2">
                  <li>
                    <a href="#leads-schemas" class="toc-h2 toc-link" data-title="Schemas">Schemas</a>
                  </li>
                  <li>
                    <a href="#leads-list-leads" class="toc-h2 toc-link" data-title="List Leads">List Leads</a>
                  </li>
                  <li>
                    <a href="#leads-create-lead" class="toc-h2 toc-link" data-title="Create Lead">Create Lead</a>
                  </li>
                  <li>
                    <a href="#leads-get-lead" class="toc-h2 toc-link" data-title="Get Lead">Get Lead</a>
                  </li>
                  <li>
                    <a href="#leads-get-lead-conversation" class="toc-h2 toc-link" data-title="Get Lead Conversation">Get Lead Conversation</a>
                  </li>
                  <li>
                    <a href="#leads-update-lead" class="toc-h2 toc-link" data-title="Update Lead">Update Lead</a>
                  </li>
              </ul>
          </li>
          <li>
            <a href="#conversations" class="toc-h1 toc-link" data-title="Conversations">Conversations</a>
              <ul class="toc-list-h2">
                  <li>
                    <a href="#conversations-schemas" class="toc-h2 toc-link" data-title="Schemas">Schemas</a>
                  </li>
                  <li>
                    <a href="#conversations-slots-contexts-and-stages" class="toc-h2 toc-link" data-title="Slots, Contexts, and Stages">Slots, Contexts, and Stages</a>
                  </li>
                  <li>
                    <a href="#conversations-create-conversation" class="toc-h2 toc-link" data-title="Create Conversation">Create Conversation</a>
                  </li>
                  <li>
                    <a href="#conversations-get-conversation" class="toc-h2 toc-link" data-title="Get Conversation">Get Conversation</a>
                  </li>
                  <li>
                    <a href="#conversations-update-conversation" class="toc-h2 toc-link" data-title="Update Conversation">Update Conversation</a>
                  </li>
                  <li>
                    <a href="#conversations-insert-slots" class="toc-h2 toc-link" data-title="Insert Slots">Insert Slots</a>
                  </li>
                  <li>
                    <a href="#conversations-update-slots" class="toc-h2 toc-link" data-title="Update Slots">Update Slots</a>
                  </li>
                  <li>
                    <a href="#conversations-upsert-slot" class="toc-h2 toc-link" data-title="Upsert Slot">Upsert Slot</a>
                  </li>
                  <li>
                    <a href="#conversations-create-message" class="toc-h2 toc-link" data-title="Create Message">Create Message</a>
                  </li>
                  <li>
                    <a href="#conversations-create-response" class="toc-h2 toc-link" data-title="Create Response">Create Response</a>
                  </li>
              </ul>
          </li>
          <li>
            <a href="#conversation-webhooks" class="toc-h1 toc-link" data-title="Conversation Webhooks">Conversation Webhooks</a>
              <ul class="toc-list-h2">
                  <li>
                    <a href="#conversation-webhooks-api-schemas" class="toc-h2 toc-link" data-title="API Schemas">API Schemas</a>
                  </li>
                  <li>
                    <a href="#conversation-webhooks-webhook-schemas" class="toc-h2 toc-link" data-title="Webhook Schemas">Webhook Schemas</a>
                  </li>
                  <li>
                    <a href="#conversation-webhooks-conversation-webhook-overview" class="toc-h2 toc-link" data-title="Conversation Webhook Overview">Conversation Webhook Overview</a>
                  </li>
                  <li>
                    <a href="#conversation-webhooks-list-conversation-webhooks" class="toc-h2 toc-link" data-title="List Conversation Webhooks">List Conversation Webhooks</a>
                  </li>
                  <li>
                    <a href="#conversation-webhooks-create-conversation-webhook" class="toc-h2 toc-link" data-title="Create Conversation Webhook">Create Conversation Webhook</a>
                  </li>
                  <li>
                    <a href="#conversation-webhooks-get-conversation-webhook" class="toc-h2 toc-link" data-title="Get Conversation Webhook">Get Conversation Webhook</a>
                  </li>
                  <li>
                    <a href="#conversation-webhooks-update-conversation-webhook" class="toc-h2 toc-link" data-title="Update Conversation Webhook">Update Conversation Webhook</a>
                  </li>
                  <li>
                    <a href="#conversation-webhooks-delete-conversation-webhook" class="toc-h2 toc-link" data-title="Delete Conversation Webhook">Delete Conversation Webhook</a>
                  </li>
              </ul>
          </li>
          <li>
            <a href="#errors" class="toc-h1 toc-link" data-title="Errors">Errors</a>
          </li>
      </ul>
        <ul class="toc-footer">
            <li><a href='https://github.com/lord/slate'>Documentation Powered by Slate</a></li>
        </ul>
    </div>
    <div class="page-wrapper">
      <div class="dark-box"></div>
      <div class="content">
        <h1 id='introduction'>Introduction</h1>
<p>Welcome to the Structurely Holmes API! You can use our API to view, update, query both leads and agent&#39;s accounts. This API is a work in progress and is not in a final state. API endpoints, authentication flows, and availability may be subject to change at any time. If you are intestested in working with us via our API please contact us at info@structurely.com</p>
<h1 id='authentication'>Authentication</h1>
<p>All requests to the API in must include the header X-Api-Authorization with your API key. There will soon be a OAuth2 flow for obtaining bearer tokens to use in the Authorization header. To get an API key please contact us.</p>
<h1 id='overview'>Overview</h1><h2 id='overview-endpoints'>Endpoints</h2>
<p>All endpoints are hosted by the domain <code>api.structurely.com</code>. All requests must use <code>https</code>. Any request with the protocol <code>http</code> will be redirected to <code>https</code> with the status code 301. The path for the api will always start with <code>/v1</code>. Every resource endpoint will start with <code>https://api.structurely.com/v1</code>.</p>
<h2 id='overview-types'>Types</h2>
<table><thead>
<tr>
<th>Type</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td><code>ObjectId</code></td>
<td>A 24 byte hexadecimal string. See <a href="https://docs.mongodb.com/manual/reference/method/ObjectId/">ObjectId</a>.</td>
</tr>
<tr>
<td><code>Boolean</code></td>
<td>A JSON boolean represented by either <code>true</code> or <code>false</code>.</td>
</tr>
<tr>
<td><code>Integer</code></td>
<td>A plain integer. May be restricted by an interval (i.e. <code>Intenger[0,)</code>, <code>Integer[0,10]</code>, <code>Integer(0,100]</code>).</td>
</tr>
<tr>
<td><code>Float</code></td>
<td>A floating point number.</td>
</tr>
<tr>
<td><code>String</code></td>
<td>A plain string. When used as a url or query parameter, it must be url escaped.</td>
</tr>
<tr>
<td><code>DateTime</code></td>
<td>A date time string that can be parsed into a time zone aware date time object.</td>
</tr>
<tr>
<td><code>List</code></td>
<td>An array of values of either a primitive type or a schema. Usually has a type name defined (i.e. <code>List&lt;Agent&gt;</code>, <code>List&lt;Integer&gt;</code>)</td>
</tr>
<tr>
<td><code>Enum</code></td>
<td>A single value that can be any primative type. Always has a set of possible values defined (i.e. <code>Enum{&#39;hello&#39;, &#39;world&#39;}</code>, <code>Enum{0, 1, 2}</code>)</td>
</tr>
</tbody></table>
<h1 id='agents'>Agents</h1>
<p>The Agent resource represents an account in homechat. An agent has settings and owns leads.</p>

<aside class="warning">
This API resource is subject to change. Be prepared to make changes in the future.
</aside>
<h2 id='agents-schemas'>Schemas</h2><h3 id='agents-schemas-agent'>Agent</h3>
<table><thead>
<tr>
<th>Field</th>
<th>Type</th>
<th>Description</th>
<th>Readable?</th>
<th>Writable?</th>
</tr>
</thead><tbody>
<tr>
<td>id</td>
<td><code>ObjectId</code></td>
<td>The ID of the agent this resource represents.</td>
<td>Yes</td>
<td>No</td>
</tr>
<tr>
<td>email</td>
<td><code>String</code></td>
<td>The email of the agent. This is unique and used for login credentials</td>
<td>Yes</td>
<td>No</td>
</tr>
</tbody></table>
<h2 id='agents-list-agents'>List Agents</h2><pre class="highlight shell tab-shell"><code>curl <span class="s1">'https://api.structurely.com/v1/agents?userId=1025&amp;email=john.richards191919%40example.com'</span> <span class="se">\</span>
  -H <span class="s1">'X-Api-Authorization: myapikey'</span>
</code></pre>
<blockquote>
<p>The above command returns JSON structured like this:</p>
</blockquote>
<pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
    </span><span class="s2">"_metadata"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="s2">"collection"</span><span class="p">:</span><span class="w"> </span><span class="s2">"agents"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"limit"</span><span class="p">:</span><span class="w"> </span><span class="mi">10</span><span class="p">,</span><span class="w">
        </span><span class="s2">"offset"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
        </span><span class="s2">"total"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="s2">"agents"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
        </span><span class="p">{</span><span class="w">
            </span><span class="s2">"id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"5b92de82f434f50034330e46"</span><span class="p">,</span><span class="w">
            </span><span class="s2">"email"</span><span class="p">:</span><span class="w"> </span><span class="s2">"john.richards191919@example.com"</span><span class="w">
        </span><span class="p">}</span><span class="w">
    </span><span class="p">]</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>
<p>This endpoint returns a list of agents sorted and/or filtered by the given parameters. This request requires the user_id parameter which refers to a third party integration user id (e.g. liondesk).</p>
<h3 id='agents-list-agents-http-request'>HTTP Request</h3>
<p><code>GET https://api.structurely.com/v1/agents</code></p>
<h3 id='agents-list-agents-query-parameters'>Query Parameters</h3>
<table><thead>
<tr>
<th>Parameter</th>
<th>Type</th>
<th>Description</th>
<th>Required?</th>
<th>Default</th>
</tr>
</thead><tbody>
<tr>
<td>userId<a href="#list-agents-note-1"><sup>[1]</sup></a></td>
<td><code>String,Integer</code></td>
<td>The third party user id</td>
<td>Yes</td>
<td>None</td>
</tr>
<tr>
<td>limit</td>
<td><code>Integer[1,100]</code></td>
<td>The number of results to return</td>
<td>No</td>
<td><code>10</code></td>
</tr>
<tr>
<td>offset</td>
<td><code>Integer[0,)</code></td>
<td>Indicates the number of results to skip</td>
<td>No</td>
<td><code>0</code></td>
</tr>
<tr>
<td>sort<a href="#list-agents-note-2"><sup>[2]</sup></a></td>
<td><code>String</code></td>
<td>A comma separated list of fields to sort by</td>
<td>No</td>
<td><code>email</code></td>
</tr>
<tr>
<td>email<a href="#list-agents-note-3"><sup>[3]</sup></a></td>
<td><code>String</code></td>
<td>A partial or full email to search</td>
<td>No</td>
<td>None</td>
</tr>
</tbody></table>

<ol style="font-size: 12px">
  <li id="list-agents-note-1">This field expects the request to be coming from a system that has already integrated with Homechat. This field is expected to be removed in the near future and is only here to assist in finding an agent in Homechat that has an account in a different system.</li>
  <li id="list-agents-note-2">The sort string allows multiple fields with left to right precedence with optional <code>-</code> or <code>+</code> for controlling ascending and descending order</li>
  <li id="list-agents-note-3">String search fields use a case insensitive partial filter that can match any part of the string</li>
</ol>

<aside class="notice">
Be sure to replace myapikey with your API key.
</aside>

<aside class="warning">
The <code>userId</code> parameter will be removed in the future. Because of the way the system is set up currently, this parameter must be used until changes can be made to the API. Users will be notified before these changes are made to the API.
</aside>
<h2 id='agents-create-lead'>Create Lead</h2><pre class="highlight shell tab-shell"><code>curl <span class="s1">'https://api.structurely.com/v1/agents/5d1faa9de1b5b447404cb545/leads'</span> <span class="se">\</span>
  -H <span class="s1">'X-Api-Authorization: myapikey'</span> -H <span class="s1">'Content-Type: application/json'</span> <span class="se">\</span>
  -d <span class="s1">'{ "name": "John James", "email": "john.james@gmail.com", "phone": "+15551234567", "source": "EasyAgentPro", "type": "Buyer", "conversation": { "initialMessage": "Hello, I am interested in 123 Main St." }, "search": { "addresses": ["123 Main St."] }, "integrations": { "boomtown": { "primaryId": { "name": "contact_id", "value": "1" }, "secondaryIds": [] } }}'</span>
</code></pre>
<blockquote>
<p>The above command returns JSON structured like this:</p>
</blockquote>
<pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
  </span><span class="s2">"id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"5d1fb274e1b5b454fb43b45c"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"John James"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"email"</span><span class="p">:</span><span class="w"> </span><span class="s2">"john.james@gmail.com"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"phone"</span><span class="p">:</span><span class="w"> </span><span class="s2">"+15551234567"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"readiness"</span><span class="p">:</span><span class="w"> </span><span class="s2">""</span><span class="p">,</span><span class="w">
  </span><span class="s2">"firstContact"</span><span class="p">:</span><span class="w"> </span><span class="mf">1529970559.365</span><span class="p">,</span><span class="w">
  </span><span class="s2">"lastContact"</span><span class="p">:</span><span class="w"> </span><span class="mf">1530572384.613</span><span class="p">,</span><span class="w">
  </span><span class="s2">"muted"</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span><span class="w">
    </span><span class="s2">"conversation"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="s2">"collection"</span><span class="p">:</span><span class="w"> </span><span class="s2">"lead.conversation"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"next"</span><span class="p">:</span><span class="w"> </span><span class="s2">"https://api.structurely.com/v1/leads/5d1fb274e1b5b454fb43b45c/conversation"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"total"</span><span class="p">:</span><span class="w"> </span><span class="mi">108</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="s2">"integrations"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="s2">"boomtown"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
            </span><span class="s2">"primaryId"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
                </span><span class="s2">"name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"contact_id"</span><span class="p">,</span><span class="w">
                </span><span class="s2">"value"</span><span class="p">:</span><span class="w"> </span><span class="s2">"1"</span><span class="w">
            </span><span class="p">},</span><span class="w">
            </span><span class="s2">"secondaryIds"</span><span class="p">:</span><span class="w"> </span><span class="p">[]</span><span class="w">
        </span><span class="p">}</span><span class="w">
    </span><span class="p">}</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>
<p>!!! WIP !!!
Full docs and changes to the /leads endpoints will be made in the near future.</p>

<p>This lead endpoint creates a new lead for the agent with the given id. The lead will will be contacted as a lead that filled out a contact form. Hours of operation and other chatbot settings apply to the lead so contact the first message may not be sent immediately or even at all in the appropriate circumstances.</p>
<h3 id='agents-create-lead-http-request'>HTTP Request</h3>
<p><code>POST https://api.structurely.com/v1/agents/&lt;id&gt;/leads</code></p>
<h3 id='agents-create-lead-url-parameters'>URL Parameters</h3>
<table><thead>
<tr>
<th>Parameter</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>id</td>
<td>The ID of the lead to retrieve</td>
</tr>
</tbody></table>
<h3 id='agents-create-lead-body-parameters'>Body Parameters<a href="#leads-schemas-lead"><sup>[^]</sup></a></h3>
<p>!!! TODO !!!</p>
<h1 id='leads'>Leads</h1>
<p>The Lead resource represents a single contact possibly with a conversation in homechat. This conversation includes messages by agents, the lead, and Holmes.</p>
<h2 id='leads-schemas'>Schemas</h2><h3 id='leads-schemas-lead'>Lead</h3>
<table><thead>
<tr>
<th>Field</th>
<th>Type</th>
<th>Description</th>
<th>Readable?</th>
<th>Writable?</th>
</tr>
</thead><tbody>
<tr>
<td>id</td>
<td><code>ObjectId</code></td>
<td>The ID of the lead this resource represents.</td>
<td>Yes</td>
<td>No</td>
</tr>
<tr>
<td>name</td>
<td><code>String</code></td>
<td>The full name of the lead.</td>
<td>Yes</td>
<td>Yes</td>
</tr>
<tr>
<td>email</td>
<td><code>String</code></td>
<td>The email of the lead.</td>
<td>Yes</td>
<td>Yes</td>
</tr>
<tr>
<td>phone</td>
<td><code>String</code></td>
<td>The phone number of the lead in the format <code>+15551234567</code>.</td>
<td>Yes</td>
<td>No</td>
</tr>
<tr>
<td>readiness</td>
<td><code>String</code></td>
<td>The readiness of the lead. Can be one of the following values: <code>active</code>, <code>just_looking</code>, <code>researching</code>, or an empty string.</td>
<td>Yes</td>
<td>No</td>
</tr>
<tr>
<td>firstContact</td>
<td><code>Float</code></td>
<td>The number of seconds after the unix epoch since first contact was made with this lead.</td>
<td>Yes</td>
<td>No</td>
</tr>
<tr>
<td>lastContact</td>
<td><code>Float</code></td>
<td>The number of seconds after the unix epoch since the latest contact was made with this lead.</td>
<td>Yes</td>
<td>No</td>
</tr>
<tr>
<td>muted</td>
<td><code>Boolean</code></td>
<td>Indicates whether Holmes is muted in the conversation or not.</td>
<td>Yes</td>
<td>Yes</td>
</tr>
<tr>
<td>stages</td>
<td><code>List[String]</code></td>
<td>The list of stages this lead is in. Can be any combination of the following values: <code>responded</code>, <code>not_responded</code>, <code>interested</code>, <code>not_interested</code>, <code>needs_follow_up</code>, <code>suggest_fallback</code>.</td>
<td>Yes</td>
<td>No</td>
</tr>
<tr>
<td>conversation</td>
<td><code>LeadConversation</code></td>
<td>The conversation metadata object for this lead.</td>
<td>Yes</td>
<td>No</td>
</tr>
</tbody></table>
<h3 id='leads-schemas-leadconversation'>LeadConversation</h3>
<table><thead>
<tr>
<th>Field</th>
<th>Type</th>
<th>Description</th>
<th>Readable?</th>
<th>Writable?</th>
</tr>
</thead><tbody>
<tr>
<td>collection</td>
<td><code>String</code></td>
<td>Always the value <code>lead.conversation</code>.</td>
<td>Yes</td>
<td>No</td>
</tr>
<tr>
<td>total</td>
<td><code>Integer</code></td>
<td>The total number of messages sent by the lead, Holmes, and the agent.</td>
<td>Yes</td>
<td>No</td>
</tr>
<tr>
<td>next<a href="#schema-leadconversation-note-1"><sup>[1]</sup></a></td>
<td><code>String</code></td>
<td>The url for the next 100 or fewer messages in the sequence.</td>
<td>Yes</td>
<td>No</td>
</tr>
</tbody></table>

<ol style="font-size: 12px">
  <li id="schema-leadconversation-note-1"> If this object is not part of a response in a sequence, the next value will be the url for the latest 100 messages for this lead conversation.</li>
</ol>
<h3 id='leads-schemas-leadmessage'>LeadMessage</h3>
<table><thead>
<tr>
<th>Field</th>
<th>Type</th>
<th>Description</th>
<th>Readable?</th>
<th>Writable?</th>
</tr>
</thead><tbody>
<tr>
<td>id</td>
<td><code>ObjectId</code></td>
<td>The ID of the message for this conversation.</td>
<td>Yes</td>
<td>No</td>
</tr>
<tr>
<td>received</td>
<td><code>Float</code></td>
<td>The unix timestamp this message was received/sent.</td>
<td>Yes</td>
<td>No</td>
</tr>
<tr>
<td>text</td>
<td><code>String</code></td>
<td>The text of the message that was sent or received.</td>
<td>Yes</td>
<td>No</td>
</tr>
<tr>
<td>type<a href="#schema-leadmessage-note-1"><sup>[1]</sup></a></td>
<td><code>String</code></td>
<td>The type of the message. It will either be <code>message</code>, <code>response</code>, or <code>agentMessage</code>.</td>
<td>Yes</td>
<td>No</td>
</tr>
</tbody></table>

<ol style="font-size: 12px">
  <li id="schema-leadmessage-note-1">The type <code>message</code> is set if the message was sent by the lead. The type <code>response</code> is set if the message was sent by Holmes. The type <code>agentMessage</code> is set if the message was sent by the agent from homechat.</li>
</ol>
<h2 id='leads-list-leads'>List Leads</h2><pre class="highlight shell tab-shell"><code>curl <span class="s1">'https://api.structurely.com/v1/leads?ownerId=59275069dec26a0d20fcc41e&amp;name=john'</span> <span class="se">\</span>
  -H <span class="s1">'X-Api-Authorization: myapikey'</span>
</code></pre>
<blockquote>
<p>The above command returns JSON structured like this:</p>
</blockquote>
<pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
  </span><span class="s2">"_metadata"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="s2">"collection"</span><span class="p">:</span><span class="w"> </span><span class="s2">"leads"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"limit"</span><span class="p">:</span><span class="w"> </span><span class="mi">10</span><span class="p">,</span><span class="w">
    </span><span class="s2">"offset"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
    </span><span class="s2">"total"</span><span class="p">:</span><span class="w"> </span><span class="mi">3</span><span class="w">
  </span><span class="p">},</span><span class="w">
  </span><span class="s2">"leads"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
    </span><span class="p">{</span><span class="w">
      </span><span class="s2">"id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"5b317f7f97f5a50048e1a516"</span><span class="p">,</span><span class="w">
      </span><span class="s2">"name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"John Doe"</span><span class="p">,</span><span class="w">
      </span><span class="s2">"email"</span><span class="p">:</span><span class="w"> </span><span class="s2">"jdoe@example.com"</span><span class="p">,</span><span class="w">
      </span><span class="s2">"phone"</span><span class="p">:</span><span class="w"> </span><span class="s2">"+15551234567"</span><span class="p">,</span><span class="w">
      </span><span class="s2">"readiness"</span><span class="p">:</span><span class="w"> </span><span class="s2">""</span><span class="p">,</span><span class="w">
      </span><span class="s2">"firstContact"</span><span class="p">:</span><span class="w"> </span><span class="mf">1529970559.365</span><span class="p">,</span><span class="w">
      </span><span class="s2">"lastContact"</span><span class="p">:</span><span class="w"> </span><span class="mf">1530572384.613</span><span class="p">,</span><span class="w">
      </span><span class="s2">"muted"</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span><span class="w">
      </span><span class="s2">"conversation"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="s2">"collection"</span><span class="p">:</span><span class="w"> </span><span class="s2">"lead.conversation"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"total"</span><span class="p">:</span><span class="w"> </span><span class="mi">10</span><span class="p">,</span><span class="w">
        </span><span class="s2">"next"</span><span class="p">:</span><span class="w"> </span><span class="s2">"https://api.structurely.com/v1/leads/5b317f7f97f5a50048e1a516/conversation"</span><span class="w">
      </span><span class="p">}</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="p">{</span><span class="w">
      </span><span class="s2">"id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"5a8b7ce54aecff0034c31776"</span><span class="p">,</span><span class="w">
      </span><span class="s2">"name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"john doe"</span><span class="p">,</span><span class="w">
      </span><span class="s2">"email"</span><span class="p">:</span><span class="w"> </span><span class="s2">"the.real.jdoe@example.com"</span><span class="p">,</span><span class="w">
      </span><span class="s2">"phone"</span><span class="p">:</span><span class="w"> </span><span class="s2">"+15551112222"</span><span class="p">,</span><span class="w">
      </span><span class="s2">"readiness"</span><span class="p">:</span><span class="w"> </span><span class="s2">"active"</span><span class="p">,</span><span class="w">
      </span><span class="s2">"firstContact"</span><span class="p">:</span><span class="w"> </span><span class="mf">1519090916.902</span><span class="p">,</span><span class="w">
      </span><span class="s2">"lastContact"</span><span class="p">:</span><span class="w"> </span><span class="mf">1519090973.948</span><span class="p">,</span><span class="w">
      </span><span class="s2">"muted"</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span><span class="w">
      </span><span class="s2">"conversation"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="s2">"collection"</span><span class="p">:</span><span class="w"> </span><span class="s2">"lead.conversation"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"total"</span><span class="p">:</span><span class="w"> </span><span class="mi">2</span><span class="p">,</span><span class="w">
        </span><span class="s2">"next"</span><span class="p">:</span><span class="w"> </span><span class="s2">"https://api.structurely.com/v1/leads/5a8b7ce54aecff0034c31776/conversation"</span><span class="w">
      </span><span class="p">}</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="p">{</span><span class="w">
      </span><span class="s2">"id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"5a690b0ef4a8dc00359afb57"</span><span class="p">,</span><span class="w">
      </span><span class="s2">"name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"John Harkin"</span><span class="p">,</span><span class="w">
      </span><span class="s2">"email"</span><span class="p">:</span><span class="w"> </span><span class="s2">"jharkin@example.com"</span><span class="p">,</span><span class="w">
      </span><span class="s2">"phone"</span><span class="p">:</span><span class="w"> </span><span class="s2">"+15557654321"</span><span class="p">,</span><span class="w">
      </span><span class="s2">"readiness"</span><span class="p">:</span><span class="w"> </span><span class="s2">"just_looking"</span><span class="p">,</span><span class="w">
      </span><span class="s2">"firstContact"</span><span class="p">:</span><span class="w"> </span><span class="mf">1516833549.595</span><span class="p">,</span><span class="w">
      </span><span class="s2">"lastContact"</span><span class="p">:</span><span class="w"> </span><span class="mf">1516833576.27</span><span class="p">,</span><span class="w">
      </span><span class="s2">"muted"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span><span class="w">
      </span><span class="s2">"conversation"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="s2">"collection"</span><span class="p">:</span><span class="w"> </span><span class="s2">"lead.conversation"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"total"</span><span class="p">:</span><span class="w"> </span><span class="mi">4</span><span class="p">,</span><span class="w">
        </span><span class="s2">"next"</span><span class="p">:</span><span class="w"> </span><span class="s2">"https://api.structurely.com/v1/leads/5a690b0ef4a8dc00359afb57/conversation"</span><span class="w">
      </span><span class="p">}</span><span class="w">
    </span><span class="p">}</span><span class="w">
  </span><span class="p">]</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>
<p>This endpoint returns a list of leads sorted and/or filtered by the given parameters. This request requires the ownerId parameter which refers to an agent id.</p>
<h3 id='leads-list-leads-http-request'>HTTP Request</h3>
<p><code>GET https://api.structurely.com/v1/leads</code></p>
<h3 id='leads-list-leads-query-parameters'>Query Parameters</h3>
<table><thead>
<tr>
<th>Parameter</th>
<th>Type</th>
<th>Description</th>
<th>Required?</th>
<th>Default</th>
</tr>
</thead><tbody>
<tr>
<td>ownerId</td>
<td><code>ObjectId</code></td>
<td>The id of the agent that owns this lead</td>
<td>Yes</td>
<td>None</td>
</tr>
<tr>
<td>limit</td>
<td><code>Integer[1,100]</code></td>
<td>The number of results to return</td>
<td>No</td>
<td><code>10</code></td>
</tr>
<tr>
<td>offset</td>
<td><code>Integer[0,)</code></td>
<td>Indicates the number of results to skip</td>
<td>No</td>
<td><code>0</code></td>
</tr>
<tr>
<td>sort<a href="#list-leads-note-1"><sup>[1]</sup></a></td>
<td><code>String</code></td>
<td>A comma separated list of fields to sort by</td>
<td>No</td>
<td><code>-lastContact</code></td>
</tr>
<tr>
<td>name<a href="#list-leads-note-2"><sup>[2]</sup></a></td>
<td><code>String</code></td>
<td>A partial or full name to search</td>
<td>No</td>
<td>None</td>
</tr>
<tr>
<td>email<a href="#list-leads-note-2"><sup>[2]</sup></a></td>
<td><code>String</code></td>
<td>A partial or full email to search</td>
<td>No</td>
<td>None</td>
</tr>
<tr>
<td>phone<a href="#list-leads-note-2"><sup>[2]</sup></a></td>
<td><code>String</code></td>
<td>A partial or full phone number to search</td>
<td>No</td>
<td>None</td>
</tr>
</tbody></table>

<ol style="font-size: 12px">
  <li id="list-leads-note-1">The sort string allows multiple fields with left to right precedence with optional <code>-</code> or <code>+</code> for controlling ascending and descending order</li>
  <li id="list-leads-note-2">String search fields use a case insensitive partial filter that can match any part of the string</li>
</ol>

<aside class="notice">
Be sure to replace myapikey with your API key.
</aside>

<aside class="warning">
The <code>ownerId</code> parameter will be removed in the future. Because of the way the system is set up currently, this parameter must be used until changes can be made to the API. Users will be notified before these changes are made to the API.
</aside>
<h2 id='leads-create-lead'>Create Lead</h2><pre class="highlight shell tab-shell"><code>curl <span class="s1">'https://api.structurely.com/v1/leads'</span> <span class="se">\</span>
  -H <span class="s1">'X-Api-Authorization: myapikey'</span> -H <span class="s1">'Content-Type: application/json'</span> <span class="se">\</span>
  -d <span class="s1">'{ "name": "John James", "email": "john.james@gmail.com", "phone": "+15551234567", "source": "EasyAgentPro", "type": "Buyer", "conversation": { "initialMessage": "Hello, I am interested in 123 Main St." }, "search": { "addresses": ["123 Main St."] }, "integrations": { "boomtown": { "primaryId": { "name": "contact_id", "value": "1" }, "secondaryIds": [] } }}'</span>
</code></pre>
<blockquote>
<p>The above command returns JSON structured like this:</p>
</blockquote>
<pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
  </span><span class="s2">"id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"5d1fb274e1b5b454fb43b45c"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"John James"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"email"</span><span class="p">:</span><span class="w"> </span><span class="s2">"john.james@gmail.com"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"phone"</span><span class="p">:</span><span class="w"> </span><span class="s2">"+15551234567"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"readiness"</span><span class="p">:</span><span class="w"> </span><span class="s2">""</span><span class="p">,</span><span class="w">
  </span><span class="s2">"firstContact"</span><span class="p">:</span><span class="w"> </span><span class="mf">1529970559.365</span><span class="p">,</span><span class="w">
  </span><span class="s2">"lastContact"</span><span class="p">:</span><span class="w"> </span><span class="mf">1530572384.613</span><span class="p">,</span><span class="w">
  </span><span class="s2">"muted"</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span><span class="w">
    </span><span class="s2">"conversation"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="s2">"collection"</span><span class="p">:</span><span class="w"> </span><span class="s2">"lead.conversation"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"next"</span><span class="p">:</span><span class="w"> </span><span class="s2">"https://api.structurely.com/v1/leads/5d1fb274e1b5b454fb43b45c/conversation"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"total"</span><span class="p">:</span><span class="w"> </span><span class="mi">108</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="s2">"integrations"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="s2">"boomtown"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
            </span><span class="s2">"primaryId"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
                </span><span class="s2">"name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"contact_id"</span><span class="p">,</span><span class="w">
                </span><span class="s2">"value"</span><span class="p">:</span><span class="w"> </span><span class="s2">"1"</span><span class="w">
            </span><span class="p">},</span><span class="w">
            </span><span class="s2">"secondaryIds"</span><span class="p">:</span><span class="w"> </span><span class="p">[]</span><span class="w">
        </span><span class="p">}</span><span class="w">
    </span><span class="p">}</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>
<p>!!! WIP !!!
Full docs and changes to the /leads endpoints will be made in the near future.</p>

<p>This lead endpoint creates a new lead for entity that owns the api key with the given id. The lead will will be contacted as a lead that filled out a contact form. Hours of operation and other chatbot settings apply to the lead so contact the first message may not be sent immediately or even at all in the appropriate circumstances.</p>
<h3 id='leads-create-lead-http-request'>HTTP Request</h3>
<p><code>POST https://api.structurely.com/v1/leads</code></p>
<h3 id='leads-create-lead-body-parameters'>Body Parameters<a href="#leads-schemas-lead"><sup>[^]</sup></a></h3>
<p>!!! TODO !!!</p>
<h2 id='leads-get-lead'>Get Lead</h2><pre class="highlight shell tab-shell"><code>curl <span class="s1">'https://api.structurely.com/v1/leads/5ab1973c62c5be0034c2102c'</span> <span class="se">\</span>
  -H <span class="s1">'X-Api-Authorization: myapikey'</span>
</code></pre>
<blockquote>
<p>The above command returns JSON structured like this:</p>
</blockquote>
<pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
  </span><span class="s2">"id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"5ab1973c62c5be0034c2102c"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"John Doe"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"email"</span><span class="p">:</span><span class="w"> </span><span class="s2">"jdoe@example.com"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"phone"</span><span class="p">:</span><span class="w"> </span><span class="s2">"+15551234567"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"readiness"</span><span class="p">:</span><span class="w"> </span><span class="s2">"researching"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"firstContact"</span><span class="p">:</span><span class="w"> </span><span class="mf">1529970559.365</span><span class="p">,</span><span class="w">
  </span><span class="s2">"lastContact"</span><span class="p">:</span><span class="w"> </span><span class="mf">1530572384.613</span><span class="p">,</span><span class="w">
  </span><span class="s2">"muted"</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span><span class="w">
  </span><span class="s2">"conversation"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="s2">"collection"</span><span class="p">:</span><span class="w"> </span><span class="s2">"lead.conversation"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"next"</span><span class="p">:</span><span class="w"> </span><span class="s2">"https://api.structurely.com/v1/leads/5ab1973c62c5be0034c2102c/conversation"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"total"</span><span class="p">:</span><span class="w"> </span><span class="mi">108</span><span class="w">
  </span><span class="p">}</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>
<p>This endpoint returns a specific lead.</p>
<h3 id='leads-get-lead-http-request'>HTTP Request</h3>
<p><code>GET https://api.structurely.com/v1/leads/&lt;id&gt;</code></p>
<h3 id='leads-get-lead-url-parameters'>URL Parameters</h3>
<table><thead>
<tr>
<th>Parameter</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>id</td>
<td>The ID of the lead to retrieve</td>
</tr>
</tbody></table>
<h2 id='leads-get-lead-conversation'>Get Lead Conversation</h2><pre class="highlight shell tab-shell"><code>curl <span class="s1">'https://api.structurely.com/v1/leads/5ab1973c62c5be0034c2102c/conversation'</span> <span class="se">\</span>
  -H <span class="s1">'X-Api-Authorization: myapikey'</span>
</code></pre>
<blockquote>
<p>The above command returns JSON structured like this:</p>
</blockquote>
<pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
  </span><span class="s2">"_metadata"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="s2">"collection"</span><span class="p">:</span><span class="w"> </span><span class="s2">"lead.conversation"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"next"</span><span class="p">:</span><span class="w"> </span><span class="s2">"https://api.structurely.com/v1/leads/5ab1973c62c5be0034c2102c/conversation?before=1540400827.866"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"total"</span><span class="p">:</span><span class="w"> </span><span class="mi">108</span><span class="w">
  </span><span class="p">},</span><span class="w">
  </span><span class="s2">"conversation"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
    </span><span class="p">{</span><span class="w">
      </span><span class="s2">"id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"5bd0a6bbbfd5b5002268f971"</span><span class="p">,</span><span class="w">
      </span><span class="s2">"received"</span><span class="p">:</span><span class="w"> </span><span class="mf">1540400827.866</span><span class="p">,</span><span class="w">
      </span><span class="s2">"text"</span><span class="p">:</span><span class="w"> </span><span class="s2">"It's always helpful to have financing figured out early in the process!"</span><span class="p">,</span><span class="w">
      </span><span class="s2">"type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"response"</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="p">,</span><span class="w">
    </span><span class="p">,</span><span class="w">
    </span><span class="p">,</span><span class="w">
    </span><span class="p">{</span><span class="w">
      </span><span class="s2">"id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"5c018167def58d0021d267cd"</span><span class="p">,</span><span class="w">
      </span><span class="s2">"received"</span><span class="p">:</span><span class="w"> </span><span class="mf">1543602535.414</span><span class="p">,</span><span class="w">
      </span><span class="s2">"text"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Thank's for all the help. I'm really excited to see this home tomorrow."</span><span class="p">,</span><span class="w">
      </span><span class="s2">"type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"message"</span><span class="w">
    </span><span class="p">}</span><span class="w">
  </span><span class="p">]</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>
<p>This endpoint returns a specific lead&#39;s conversaton. It will return no more than 100 messages at a time. The <code>_metadata.next</code> value gives the url that will return the next batch of messages in the sequence. If there are no more messages <code>_metadata.next</code> will be <code>null</code>. If the <code>before</code> parameter is used, the next batch will be before the earliest message and if <code>after</code> is used, the next batch will be after the latest message. If there is no parameter defined the latest 100 messages are returned and the <code>_metadata.next</code> url will be for the previous batch with a before parameter. The <code>_metadata.total</code> value returns the total number of messages in the conversation.</p>
<h3 id='leads-get-lead-conversation-http-request'>HTTP Request</h3>
<p><code>GET https://api.structurely.com/v1/leads/&lt;id&gt;/conversation</code></p>
<h3 id='leads-get-lead-conversation-url-parameters'>URL Parameters</h3>
<table><thead>
<tr>
<th>Parameter</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>id</td>
<td>The ID of the lead to retrieve the conversation for</td>
</tr>
</tbody></table>
<h3 id='leads-get-lead-conversation-query-parameters'>Query Parameters</h3>
<table><thead>
<tr>
<th>Parameter</th>
<th>Type</th>
<th>Description</th>
<th>Required?</th>
<th>Default</th>
</tr>
</thead><tbody>
<tr>
<td>before<a href="#lead-conversation-note-1"><sup>[1]</sup></a></td>
<td><code>Float</code></td>
<td>The unix timestamp all messages must have been received before</td>
<td>No</td>
<td>None</td>
</tr>
<tr>
<td>after<a href="#lead-conversation-note-1"><sup>[1]</sup></a></td>
<td><code>Float</code></td>
<td>The unix timestamp all messages must have been received after</td>
<td>No</td>
<td>None</td>
</tr>
</tbody></table>

<ol style="font-size: 12px">
  <li id="lead-conversation-note-1">The <code>before</code> and <code>after</code> parameters are mutually exclusive. Neither is required but only one may be present.</li>
</ol>
<h2 id='leads-update-lead'>Update Lead</h2><pre class="highlight shell tab-shell"><code>curl <span class="s1">'https://api.structurely.com/v1/leads/5ab1973c62c5be0034c2102c'</span> <span class="se">\</span>
  -X PATCH <span class="se">\</span>
  -H <span class="s1">'X-Api-Authorization: myapikey'</span> <span class="se">\</span>
  -H <span class="s1">'Content-Type: application/json'</span> <span class="se">\</span>
  -d <span class="s1">'{ "muted": true }'</span>
</code></pre>
<blockquote>
<p>The above command returns JSON structured like this:</p>
</blockquote>
<pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
  </span><span class="s2">"id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"5ab1973c62c5be0034c2102c"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"John Doe"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"email"</span><span class="p">:</span><span class="w"> </span><span class="s2">"jdoe@example.com"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"phone"</span><span class="p">:</span><span class="w"> </span><span class="s2">"+15551234567"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"readiness"</span><span class="p">:</span><span class="w"> </span><span class="s2">"just_looking"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"firstContact"</span><span class="p">:</span><span class="w"> </span><span class="mf">1529970559.365</span><span class="p">,</span><span class="w">
  </span><span class="s2">"lastContact"</span><span class="p">:</span><span class="w"> </span><span class="mf">1530572384.613</span><span class="p">,</span><span class="w">
  </span><span class="s2">"muted"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span><span class="w">
  </span><span class="s2">"conversation"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="s2">"collection"</span><span class="p">:</span><span class="w"> </span><span class="s2">"lead.conversation"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"next"</span><span class="p">:</span><span class="w"> </span><span class="s2">"https://api.structurely.com/v1/leads/5ab1973c62c5be0034c2102c/conversation"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"total"</span><span class="p">:</span><span class="w"> </span><span class="mi">108</span><span class="w">
  </span><span class="p">}</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>
<p>This endpoint updates a specific lead and returns the modified lead object.</p>
<h3 id='leads-update-lead-http-request'>HTTP Request</h3>
<p><code>PATCH https://api.structurely.com/v1/leads/&lt;id&gt;</code></p>
<h3 id='leads-update-lead-url-parameters'>URL Parameters</h3>
<table><thead>
<tr>
<th>Parameter</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>id</td>
<td>The ID of the lead to update</td>
</tr>
</tbody></table>
<h3 id='leads-update-lead-body-parameters'>Body Parameters<a href="#leads-schemas-lead"><sup>[^]</sup></a></h3>
<table><thead>
<tr>
<th>Parameter</th>
<th>Type</th>
</tr>
</thead><tbody>
<tr>
<td>name</td>
<td><code>String</code></td>
</tr>
<tr>
<td>email</td>
<td><code>String</code></td>
</tr>
<tr>
<td>muted</td>
<td><code>Boolean</code></td>
</tr>
</tbody></table>

<aside class="notice">
Be sure to include the header `Content-Type: application/json` with your request.
</aside>
<h1 id='conversations'>Conversations</h1>
<p>The Conversation resource represents a conversational exchange with Aisa. This is distict from a lead because it interfaces directly with aisa rather than showing up for an agent in homechat.</p>

<aside class="warning">
This API resource is subject to change. Be prepared to make changes in the future.
</aside>
<h2 id='conversations-schemas'>Schemas</h2><h3 id='conversations-schemas-conversation'>Conversation</h3>
<table><thead>
<tr>
<th>Field</th>
<th>Type</th>
<th>Description</th>
<th>Readable?</th>
<th>Writable?</th>
<th>Required?</th>
<th>Default</th>
</tr>
</thead><tbody>
<tr>
<td>id</td>
<td><code>ObjectId</code></td>
<td>The ID of the conversation this resource represents.</td>
<td>Yes</td>
<td>No</td>
<td>No</td>
<td></td>
</tr>
<tr>
<td>settings</td>
<td><code>ConversationSettings</code></td>
<td>The settings for holmes per this conversation.</td>
<td>Yes</td>
<td>No</td>
<td>Yes</td>
<td></td>
</tr>
<tr>
<td>slots</td>
<td><code>List&lt;ConversationSlot&gt;</code></td>
<td>A list of extracted or pre-filled values relating to the conversation.</td>
<td>Yes</td>
<td>No</td>
<td>Yes</td>
<td></td>
</tr>
<tr>
<td>muted</td>
<td><code>Boolean</code></td>
<td>A boolean flag to tell Holmes whether or not this conversation is muted. A muted conversation can still receive messages but will generate no replies.</td>
<td>Yes</td>
<td>Yes</td>
<td>No</td>
<td><code>false</code></td>
</tr>
<tr>
<td>stages</td>
<td><code>List&lt;String&gt;</code></td>
<td>A list of stages this conversation is currently in.</td>
<td>Yes</td>
<td>No</td>
<td>No</td>
<td></td>
</tr>
<tr>
<td>messages</td>
<td><code>List&lt;ConversationItem&gt;</code></td>
<td>A list of lead messages and system responses with the context value with each response.</td>
<td>No</td>
<td>No</td>
<td>Yes</td>
<td></td>
</tr>
</tbody></table>
<h3 id='conversations-schemas-conversationsettings'>ConversationSettings</h3>
<table><thead>
<tr>
<th>Field</th>
<th>Type</th>
<th>Description</th>
<th>Readable?</th>
<th>Writable?</th>
<th>Required?</th>
<th>Default</th>
</tr>
</thead><tbody>
<tr>
<td>timeZone</td>
<td><code>String</code></td>
<td>The time zone the realtor and/or lead. (See <a href="https://gist.github.com/heyalexej/8bf688fd67d7199be4a1682b3eec7568">list</a>)</td>
<td>Yes</td>
<td>No</td>
<td>Yes</td>
<td></td>
</tr>
<tr>
<td>holmesName</td>
<td><code>String</code></td>
<td>The name of conversation AI to use in responses.</td>
<td>Yes</td>
<td>No</td>
<td>No</td>
<td>Aisa</td>
</tr>
<tr>
<td>leadTypes</td>
<td><code>List&lt;String&gt;</code></td>
<td>The lead types that will be supported in this conversation. Possible values are <code>buyer</code>, <code>seller</code>, and <code>renter</code></td>
<td>Yes</td>
<td>No</td>
<td>No</td>
<td><code>[&#39;buyer&#39;, &#39;seller&#39;]</code></td>
</tr>
<tr>
<td>allowedDomains</td>
<td><code>List&lt;String&gt;</code></td>
<td>The domains that this conversation can use for conversation flows. Possible values are <code>real_estate</code> and <code>mortgage</code>. When a lead sets or changes its lead type, the domain determines what scripts to use.</td>
<td>Yes</td>
<td>No</td>
<td>No</td>
<td><code>[&#39;real_estate&#39;]</code></td>
</tr>
<tr>
<td>dripCampaignEnabled</td>
<td><code>Boolean</code></td>
<td>If set to true, Holmes drip campaigns will be used for an unresponsive lead.  Only runs if there is no lead message following a system response in the messages list.</td>
<td>Yes</td>
<td>No</td>
<td><code>false</code></td>
<td></td>
</tr>
<tr>
<td>reDripsEnabled</td>
<td><code>Boolean</code></td>
<td>If set to true, Holmes will re-engage leads that have responded but are not responding to the current prompt. Will use the current context to determine outbound re-drips even if a custom response is generated by the third party user.</td>
<td>Yes</td>
<td>No</td>
<td><code>false</code></td>
<td></td>
</tr>
</tbody></table>
<h3 id='conversations-schemas-conversationslot'>ConversationSlot</h3>
<table><thead>
<tr>
<th>Field</th>
<th>Type</th>
<th>Description</th>
<th>Readable?</th>
<th>Writable?</th>
<th>Required?</th>
</tr>
</thead><tbody>
<tr>
<td>name<a href="#conversations-slots-and-contexts-slots"><sup>[a]</sup></a></td>
<td><code>String</code></td>
<td>The name of the slot.</td>
<td>Yes</td>
<td>No</td>
<td>Yes</td>
</tr>
<tr>
<td>value<a href="#conversations-slots-and-contexts-slots"><sup>[a]</sup></a></td>
<td><code>Any</code></td>
<td>The value of the slot.</td>
<td>Yes</td>
<td>No</td>
<td>Yes</td>
</tr>
</tbody></table>
<h3 id='conversations-schemas-conversationitem'>ConversationItem</h3>
<table><thead>
<tr>
<th>Field</th>
<th>Type</th>
<th>Description</th>
<th>Readable?</th>
<th>Writable?</th>
<th>Required?</th>
</tr>
</thead><tbody>
<tr>
<td>message</td>
<td><code>Message</code></td>
<td>A message the lead sent.</td>
<td>No</td>
<td>Yes</td>
<td>Yes<a href="#schema-conversationitem-note-1"><sup>[1]</sup></a></td>
</tr>
<tr>
<td>respone</td>
<td><code>Message</code></td>
<td>A respone sent by the system.</td>
<td>No</td>
<td>Yes</td>
<td>Yes<a href="#schema-conversationitem-note-1"><sup>[1]</sup></a></td>
</tr>
<tr>
<td>context<a href="#conversations-slots-and-contexts-contexts"><sup>[b]</sup></a></td>
<td><code>String</code></td>
<td>The context set by the response in this conversation item.</td>
<td>No</td>
<td>Yes</td>
<td>Yes<a href="#schema-conversationitem-note-2"><sup>[2]</sup></a></td>
</tr>
</tbody></table>

<ol style="font-size: 12px">
  <li id="schema-conversationitem-note-1"><code>message</code> and <code>response</code> are mutually exclusive. At least one is required to be present but not both.</li>
  <li id="schema-conversationitem-note-2"><code>context</code> is only required if the <code>response</code> field is used.</li>
</ol>
<h3 id='conversations-schemas-message'>Message</h3>
<table><thead>
<tr>
<th>Field</th>
<th>Type</th>
<th>Description</th>
<th>Readable?</th>
<th>Writable?</th>
<th>Required?</th>
</tr>
</thead><tbody>
<tr>
<td>text</td>
<td><code>String</code></td>
<td>The text of the message.</td>
<td>No</td>
<td>Yes</td>
<td>Yes</td>
</tr>
<tr>
<td>received</td>
<td><code>DateTime</code></td>
<td>The time the message was sent or received.</td>
<td>No</td>
<td>Yes</td>
<td>Yes</td>
</tr>
<tr>
<td>_metadata<a href="#schema-message-note-1"><sup>[1]</sup></a></td>
<td><code>MessageMetaData</code></td>
<td>An optional metadata object to set the outgoing context for a response.</td>
<td>No</td>
<td>Yes</td>
<td>No</td>
</tr>
</tbody></table>

<ol style="font-size: 12px">
  <li id="schema-message-note-1"><code>_metadata</code> is only used when creating a response object.</li>
</ol>
<h3 id='conversations-schemas-messagemetadata'>MessageMetaData</h3>
<table><thead>
<tr>
<th>Field</th>
<th>Type</th>
<th>Description</th>
<th>Readable?</th>
<th>Writable?</th>
<th>Required?</th>
</tr>
</thead><tbody>
<tr>
<td>context</td>
<td><code>String</code></td>
<td>The outgoing context of this response. Used by Holmes to classify messages sent after this response.</td>
<td>No</td>
<td>Yes</td>
<td>No</td>
</tr>
</tbody></table>
<h2 id='conversations-slots-contexts-and-stages'>Slots, Contexts, and Stages</h2><h3 id='conversations-slots-contexts-and-stages-slots'>Slots</h3>
<table><thead>
<tr>
<th>Name</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td><strong>Lead Contact Information</strong></td>
<td></td>
<td></td>
</tr>
<tr>
<td>name</td>
<td><code>String</code></td>
<td>The name of the lead.</td>
</tr>
<tr>
<td>email</td>
<td><code>String</code></td>
<td>The email of the lead.</td>
</tr>
<tr>
<td>phone</td>
<td><code>String</code></td>
<td>The phone number of the lead.</td>
</tr>
<tr>
<td>address</td>
<td><code>String</code></td>
<td>The address of the property a buyer lead is interested in.</td>
</tr>
<tr>
<td>selling_address</td>
<td><code>String</code></td>
<td>The address of the property a seller lead is trying to sell.</td>
</tr>
<tr>
<td>lead_type</td>
<td><code>List&lt;String&gt;</code></td>
<td>A list of lead types this lead is considered as. Not limited to but includes any of <code>buyer</code>, <code>buyer_specific</code>, <code>renter</code>, <code>renter_specific</code>, <code>seller</code>, <code>just_looking</code>, <code>pending_sale_interest</code>, <code>investor</code>, <code>rent_to_own</code>, <code>rent_to_own_specific</code>, <code>new_home_loan</code>, <code>new_home_loan_specific</code>, <code>home_refinance</code> or a combination thereof.</td>
</tr>
<tr>
<td><strong>Agent Contact Information</strong></td>
<td></td>
<td></td>
</tr>
<tr>
<td>agent_name</td>
<td><code>String</code></td>
<td>The name of the agent Holmes is messaging on the behalf of.</td>
</tr>
<tr>
<td>agent_email</td>
<td><code>String</code></td>
<td>The email of the agent.</td>
</tr>
<tr>
<td>agent_phone</td>
<td><code>String</code></td>
<td>The phone of the agent.</td>
</tr>
<tr>
<td>agency_name</td>
<td><code>String</code></td>
<td>The name of the agency the agent works for or Holmes is messaging on the behalf of.</td>
</tr>
<tr>
<td>office_location</td>
<td><code>String</code></td>
<td>The general location of the realtor office the system is representing.</td>
</tr>
<tr>
<td><strong>General Lead Information</strong></td>
<td></td>
<td></td>
</tr>
<tr>
<td>agent_status</td>
<td><code>Boolean</code></td>
<td>True if the lead is already working with an agent.</td>
</tr>
<tr>
<td>alternate_plan</td>
<td><code>String</code></td>
<td></td>
</tr>
<tr>
<td>appointment</td>
<td><code>String</code></td>
<td>The time the lead is available for an appointment.</td>
</tr>
<tr>
<td>baths</td>
<td><code>Float</code></td>
<td>The specific number bathrooms the lead is looking for.</td>
</tr>
<tr>
<td>baths_min</td>
<td><code>Float</code></td>
<td>The minimum number of bathrooms the lead is looking for.</td>
</tr>
<tr>
<td>baths_max</td>
<td><code>Float</code></td>
<td>The maximum number of bathrooms the lead is looking for.</td>
</tr>
<tr>
<td>beds</td>
<td><code>Integer</code></td>
<td>The specific number of bedrooms the lead is looking for.</td>
</tr>
<tr>
<td>beds_min</td>
<td><code>Integer</code></td>
<td>The minimum number of bedrooms the lead is looking for.</td>
</tr>
<tr>
<td>beds_max</td>
<td><code>Integer</code></td>
<td>The maximum number of bedrooms the lead is looking for.</td>
</tr>
<tr>
<td>benefit</td>
<td><code>Boolean</code></td>
<td></td>
</tr>
<tr>
<td>business_development</td>
<td><code>Enum</code></td>
<td>Business development. Possible values:<br /><code>{&#39;outbound&#39;, &#39;inbound&#39;, &#39;paid&#39;, &#39;referral&#39;, &#39;networking&#39;}</code></td>
</tr>
<tr>
<td>call_availability</td>
<td><code>String</code></td>
<td>The time when the lead is available for a call with the agent.</td>
</tr>
<tr>
<td>company_name</td>
<td><code>String</code></td>
<td></td>
</tr>
<tr>
<td>competitor_status</td>
<td><code>Boolean</code></td>
<td></td>
</tr>
<tr>
<td>confidence</td>
<td><code>Enum</code></td>
<td>Confidence. Possible values:<br /><code>{&#39;very_confident&#39;, &#39;somewhat_confident&#39;, &#39;not_confident&#39;}</code></td>
</tr>
<tr>
<td>contact_confirmation</td>
<td><code>Boolean</code></td>
<td></td>
</tr>
<tr>
<td>contact_time</td>
<td><code>String</code></td>
<td></td>
</tr>
<tr>
<td>content_offer</td>
<td><code>Boolean</code></td>
<td></td>
</tr>
<tr>
<td>contingency</td>
<td><code>Boolean</code></td>
<td>True if the lead needs to sell their current home before buying.</td>
</tr>
<tr>
<td>credit</td>
<td><code>Enum</code></td>
<td>Credit rating. Possible values:<br /><code>{&#39;very_poor&#39;, &#39;fair&#39;, &#39;good&#39;, &#39;very_good&#39;, &#39;excellent&#39;}</code></td>
</tr>
<tr>
<td>credit_score</td>
<td><code>Integer[300,850]</code></td>
<td></td>
</tr>
<tr>
<td>debt_to_income</td>
<td><code>Float[0,50]</code></td>
<td></td>
</tr>
<tr>
<td>decision_maker</td>
<td><code>Boolean</code></td>
<td></td>
</tr>
<tr>
<td>decision_process</td>
<td><code>String</code></td>
<td></td>
</tr>
<tr>
<td>delivery_followup</td>
<td><code>Boolean</code></td>
<td></td>
</tr>
<tr>
<td>description</td>
<td><code>String</code></td>
<td></td>
</tr>
<tr>
<td>down_payment</td>
<td><code>Float</code></td>
<td></td>
</tr>
<tr>
<td>down_payment_min</td>
<td><code>Float</code></td>
<td></td>
</tr>
<tr>
<td>down_payment_max</td>
<td><code>Float</code></td>
<td></td>
</tr>
<tr>
<td>employment_status</td>
<td><code>Enum</code></td>
<td>Employment status. Possible values:<br /><code>{&#39;self_employed&#39;, &#39;employed&#39;, &#39;not_employed&#39;}</code></td>
</tr>
<tr>
<td>equity_status</td>
<td><code>Float</code></td>
<td></td>
</tr>
<tr>
<td>equity_status_min</td>
<td><code>Float</code></td>
<td></td>
</tr>
<tr>
<td>equity_status_max</td>
<td><code>Float</code></td>
<td></td>
</tr>
<tr>
<td>favorite_city</td>
<td><code>String</code></td>
<td></td>
</tr>
<tr>
<td>financial_default</td>
<td><code>Enum</code></td>
<td>Financial default. Possible values:<br /><code>{&#39;bankruptcy&#39;, &#39;foreclosure&#39;, &#39;short_sale&#39;, &#39;missed_payments&#39;}</code></td>
</tr>
<tr>
<td>financing_status</td>
<td><code>Boolean</code></td>
<td>True if the lead is prequalified or paying with cash.</td>
</tr>
<tr>
<td>first_time_buyer</td>
<td><code>Boolean</code></td>
<td></td>
</tr>
<tr>
<td>fsbo_reason</td>
<td><code>String</code></td>
<td></td>
</tr>
<tr>
<td>garage_stalls</td>
<td><code>Integer[0,8]</code></td>
<td>Number of garage stalls.</td>
</tr>
<tr>
<td>garage_stalls_min</td>
<td><code>Integer[0,8]</code></td>
<td>Minimum number of garage stalls.</td>
</tr>
<tr>
<td>garage_stalls_max</td>
<td><code>Integer[0,8]</code></td>
<td>Maximum number of garage stalls.</td>
</tr>
<tr>
<td>home_style</td>
<td><code>Enum</code></td>
<td>The home style(s) the lead is interested in. Possible values:<br /><code>{&#39;art_deco&#39;, &#39;barndominium&#39;, &#39;bungalow&#39;, &#39;cape_cod&#39;, &#39;colonial&#39;, &#39;condominium&#39;, &#39;contemporary&#39;, &#39;craftsman&#39;, &#39;creole&#39;, &#39;dutch_colonial&#39;, &#39;farmhouse&#39;, &#39;federal&#39;, &#39;french_provincial&#39;, &#39;georgian&#39;, &#39;gothic_revival&#39;, &#39;greek_revival&#39;, &#39;international&#39;, &#39;italianate&#39;, &#39;log_cabin&#39;, &#39;modern&#39;, &#39;monterey&#39;, &#39;national&#39;, &#39;neoclassical&#39;, &#39;prairie&#39;, &#39;pueblo&#39;, &#39;queen_anne&#39;, &#39;ranch&#39;, &#39;regency&#39;, &#39;saltbox&#39;, &#39;second_empire&#39;, &#39;shed&#39;, &#39;shingle&#39;, &#39;shotgun&#39;, &#39;spanish_eclectic&#39;, &#39;split_level&#39;, &#39;stick&#39;, &#39;tudor&#39;, &#39;victorian&#39;, &#39;other&#39;}</code></td>
</tr>
<tr>
<td>image</td>
<td><code>String</code></td>
<td></td>
</tr>
<tr>
<td>income</td>
<td><code>Float</code></td>
<td></td>
</tr>
<tr>
<td>interest</td>
<td><code>Enum</code></td>
<td>Interest. Possible values:<br /><code>{&#39;interested&#39;, &#39;not_interested&#39;, &#39;somewhat_interested&#39;, &#39;postponed_interested&#39;}</code></td>
</tr>
<tr>
<td>is_agent</td>
<td><code>Boolean</code></td>
<td>True if the lead is an agent.</td>
</tr>
<tr>
<td>is_investor</td>
<td><code>Boolean</code></td>
<td>True if the lead is an investor buying property.</td>
</tr>
<tr>
<td>is_local</td>
<td><code>Boolean</code></td>
<td></td>
</tr>
<tr>
<td>language</td>
<td><code>Enum</code></td>
<td>The language detected in this conversation. Current conversation support is for English and Spanish languages only. Possible values:<br /><code>{&#39;spanish&#39;, &#39;mandarin&#39;, &#39;french&#39;, &#39;hindi&#39;, &#39;arabic&#39;, &#39;portuguese&#39;, &#39;bengali&#39;, &#39;russian&#39;, &#39;japanese&#39;, &#39;punjabi&#39;, &#39;english&#39;}</code></td>
</tr>
<tr>
<td>lead_priority</td>
<td><code>Enum</code></td>
<td>Lead priority. Possible values:<br /><code>{&#39;now&#39;, &#39;soon&#39;, &#39;later&#39;, &#39;distant&#39;, &#39;never&#39;}</code></td>
</tr>
<tr>
<td>lead_source</td>
<td><code>String</code></td>
<td>The source of the lead. Can be any string.</td>
</tr>
<tr>
<td>lender_status</td>
<td><code>Boolean</code></td>
<td></td>
</tr>
<tr>
<td>listing_appointment</td>
<td><code>String</code></td>
<td>The time the lead is available for an appointment about their listing.</td>
</tr>
<tr>
<td>listing_url</td>
<td><code>String</code></td>
<td></td>
</tr>
<tr>
<td>living_space</td>
<td><code>Integer</code></td>
<td>The living space the lead is searching for.</td>
</tr>
<tr>
<td>living_space_min</td>
<td><code>Integer</code></td>
<td>The minimum living space the lead is searching for.</td>
</tr>
<tr>
<td>living_space_max</td>
<td><code>Integer</code></td>
<td>The maximum living space the lead is searching for.</td>
</tr>
<tr>
<td>loan_balance</td>
<td><code>Integer</code></td>
<td>The loan balance.</td>
</tr>
<tr>
<td>loan_balance_min</td>
<td><code>Integer</code></td>
<td>The minimum loan balance.</td>
</tr>
<tr>
<td>loan_balance_max</td>
<td><code>Integer</code></td>
<td>The maximum loan balance.</td>
</tr>
<tr>
<td>loan_type</td>
<td><code>Enum</code></td>
<td>Loan type. Possible values:<br /><code>{&#39;fha&#39;, &#39;conventional&#39;, &#39;va&#39;, &#39;reverse_mortgage&#39;, &#39;jumbo&#39;, &#39;usda&#39;}</code></td>
</tr>
<tr>
<td>location</td>
<td><code>String</code></td>
<td>The general location the lead is interested in buying.</td>
</tr>
<tr>
<td>lot_size</td>
<td><code>Integer</code></td>
<td>The lot size the lead is searching for.</td>
</tr>
<tr>
<td>lot_size_min</td>
<td><code>Integer</code></td>
<td>The minimum lot size the lead is searching for.</td>
</tr>
<tr>
<td>lot_size_max</td>
<td><code>Integer</code></td>
<td>The maximum lot size the lead is searching for.</td>
</tr>
<tr>
<td>meeting_location</td>
<td><code>String</code></td>
<td>Special values:<br /><code>webcam</code>, <code>zoom</code>, <code>google_hangouts</code>, <code>uberconference</code>, <code>open</code></td>
</tr>
<tr>
<td>military_active_duty</td>
<td><code>Boolean</code></td>
<td></td>
</tr>
<tr>
<td>military_branch</td>
<td><code>Enum</code></td>
<td>Possible values:<br /><code>{&#39;army&#39;, &#39;air_force&#39;, &#39;coast_guard&#39;, &#39;marines&#39;, &#39;navy&#39;, &#39;national_guard&#39;, &#39;space_force&#39;}</code></td>
</tr>
<tr>
<td>military_discharge_type</td>
<td><code>Enum</code></td>
<td>Possible values:<br /><code>{&#39;honorable_discharge&#39;, &#39;general_discharge&#39;, &#39;other_than_honorable_discharge&#39;, &#39;bad_conduct_discharge&#39;, &#39;dishonorable_discharge&#39;, &#39;entry_level_separation&#39;, &#39;medical_separation&#39;, &#39;separation_for_convenience_of_the_government&#39;}</code></td>
</tr>
<tr>
<td>military_reserves_service</td>
<td><code>Boolean</code></td>
<td></td>
</tr>
<tr>
<td>military_service_term</td>
<td><code>Integer</code></td>
<td></td>
</tr>
<tr>
<td>mortgage_escrow</td>
<td><code>Boolean</code></td>
<td></td>
</tr>
<tr>
<td>mortgage_intent</td>
<td><code>Enum</code></td>
<td>Possible values:<br /><code>{&#39;preapproval&#39;, &#39;rate_quote&#39;}</code></td>
</tr>
<tr>
<td>motivation</td>
<td><code>Enum</code></td>
<td>Possible values:<br /><code>{&#39;new_job&#39;, &#39;lost_job&#39;, &#39;downsizing&#39;, &#39;upsizing&#39;, &#39;death&#39;, &#39;debt&#39;, &#39;divorce&#39;, &#39;lease_expiry&#39;, &#39;lifestyle&#39;, &#39;investment&#39;, &#39;environmental&#39;, &#39;save_money&#39;, &#39;closer_to_family&#39;, &#39;tired_of_renting&#39;, &#39;new_children&#39;, &#39;retiring&#39;, &#39;space_for_animals&#39;, &#39;neighbor_sold_property&#39;, &#39;sold_property&#39;, &#39;ready_to_move&#39;, &#39;closer_to_school&#39;, &#39;closer_to_friends&#39;, &#39;good_schools&#39;, &#39;vacation_interest&#39;, &#39;homeless&#39;, &#39;privacy&#39;, &#39;weather&#39;}</code></td>
</tr>
<tr>
<td>motivation_plans</td>
<td><code>String</code></td>
<td></td>
</tr>
<tr>
<td>outcome</td>
<td><code>String</code></td>
<td></td>
</tr>
<tr>
<td>ownership</td>
<td><code>Enum</code></td>
<td>Possible values:<br /><code>{&#39;sole_owner&#39;, &#39;co_owner&#39;, &#39;third_party_owner&#39;, &#39;no_ownership&#39;}</code></td>
</tr>
<tr>
<td>ownership_timeline</td>
<td><code>String</code></td>
<td>Special value: <code>open</code></td>
</tr>
<tr>
<td>price</td>
<td><code>Float</code></td>
<td>The specific price the lead is looking for.</td>
</tr>
<tr>
<td>price_min</td>
<td><code>Float</code></td>
<td>The minimum price the lead is looking for.</td>
</tr>
<tr>
<td>price_max</td>
<td><code>Float</code></td>
<td>The maximum price the lead is looking for.</td>
</tr>
<tr>
<td>prior_loan_experience</td>
<td><code>Boolean</code></td>
<td></td>
</tr>
<tr>
<td>problem</td>
<td><code>String</code></td>
<td></td>
</tr>
<tr>
<td>promotional_offer</td>
<td><code>Enum</code></td>
<td>Interest. Possible values:<br /><code>{&#39;interested&#39;, &#39;not_interested&#39;, &#39;somewhat_interested&#39;, &#39;postponed_interested&#39;}</code></td>
</tr>
<tr>
<td>property_feature</td>
<td><code>Enum</code></td>
<td>Possible values:<br /><code>{&#39;access_to_water&#39;, &#39;big_yard&#39;, &#39;detached_garage&#39;, &#39;exposed_beams&#39;, &#39;exposed_brick&#39;, &#39;finished_basement&#39;, &#39;handicap_accessible&#39;, &#39;home_office&#39;, &#39;pool&#39;, &#39;space_to_entertain&#39;, &#39;updated_baths&#39;, &#39;updated_kitchen&#39;, &#39;vaulted_ceilings&#39;, &#39;walkable_neighborhood&#39;, &#39;fenced_yard&#39;, &#39;other&#39;}</code></td>
</tr>
<tr>
<td>property_info_request</td>
<td><code>Enum</code></td>
<td>Possible values:<br /><code>{&#39;baths&#39;, &#39;beds&#39;, &#39;boat_slip&#39;, &#39;community_info&#39;, &#39;covenants&#39;, &#39;days_on_market&#39;, &#39;deed_restrictions&#39;, &#39;disclosures&#39;, &#39;expected_dom&#39;, &#39;floorplan&#39;, &#39;garage_spaces&#39;, &#39;hoa&#39;, &#39;living_space&#39;, &#39;lot_rent&#39;, &#39;lot_size&#39;, &#39;owners&#39;, &#39;pet_friendly&#39;, &#39;price&#39;, &#39;property_location&#39;, &#39;property_type&#39;, &#39;public_remarks&#39;, &#39;rental_history&#39;, &#39;schools&#39;, &#39;senior_community&#39;, &#39;status&#39;, &#39;stories&#39;, &#39;taxes&#39;, &#39;transactions&#39;, &#39;utilities&#39;, &#39;year_built&#39;, &#39;zoning&#39;}</code></td>
</tr>
<tr>
<td>property_location</td>
<td><code>String</code></td>
<td></td>
</tr>
<tr>
<td>property_preferences</td>
<td><code>String</code></td>
<td></td>
</tr>
<tr>
<td>property_records</td>
<td><code>Enum</code></td>
<td>Possible values:<br /><code>{&#39;second_mortgage&#39;, &#39;lien&#39;}</code></td>
</tr>
<tr>
<td>property_status</td>
<td><code>Enum</code></td>
<td>Possible values:<br /><code>{&#39;active&#39;, &#39;sold&#39;, &#39;pending&#39;}</code></td>
</tr>
<tr>
<td>property_type</td>
<td><code>Enum</code></td>
<td>Possible values:<br /><code>{&#39;vacant_land&#39;, &#39;handicap_accessible&#39;, &#39;commercial&#39;, &#39;apartment&#39;, &#39;mobile_home&#39;, &#39;acreage&#39;, &#39;ranch&#39;, &#39;vacation_home&#39;, &#39;residential&#39;}</code></td>
</tr>
<tr>
<td>property_use</td>
<td><code>Enum</code></td>
<td>Property use. Possible values:<br /><code>{&#39;vacation&#39;, &#39;investment&#39;, &#39;primary_residence&#39;, &#39;secondary_residence&#39;, &#39;agriculture&#39;}</code></td>
</tr>
<tr>
<td>property_value</td>
<td><code>Float</code></td>
<td></td>
</tr>
<tr>
<td>property_value_min</td>
<td><code>Float</code></td>
<td></td>
</tr>
<tr>
<td>property_value_max</td>
<td><code>Float</code></td>
<td></td>
</tr>
<tr>
<td>property_visit</td>
<td><code>Boolean</code></td>
<td></td>
</tr>
<tr>
<td>question</td>
<td><code>Enum</code></td>
<td>The question that the lead just asked. Possible values:<br /><code>{&#39;pricing&#39;, &#39;integrations&#39;, &#39;how_it_works&#39;, &#39;features&#39;, &#39;setup_time&#39;, &#39;savings&#39;, &#39;repairs&#39;, &#39;results&#39;, &#39;consultation&#39;, &#39;leasing&#39;, &#39;delivery_time&#39;, &#39;competitive_advantage&#39;, &#39;product_requirements&#39;, &#39;specifications&#39;, &#39;incentives&#39;, &#39;warranty&#39;, &#39;return_on_investment&#39;, &#39;discounts&#39;, &#39;assembly_details&#39;, &#39;referrals&#39;, &#39;compliance&#39;, &#39;available_geography&#39;, &#39;upgrade&#39;, &#39;extension&#39;, &#39;company_details&#39;, &#39;sell_power_back&#39;, &#39;inverter_type&#39;, &#39;license_number&#39;, &#39;data_import&#39;, &#39;quote&#39;, &#39;taxes&#39;, &#39;schools&#39;, &#39;other&#39;}</code></td>
</tr>
<tr>
<td>readiness</td>
<td><code>Enum</code></td>
<td>The readiness of the lead. Possible values:<br /><code>{&#39;active&#39;, &#39;just_looking&#39;, &#39;researching&#39;, &#39;not_interested&#39;, &#39;&#39;}</code></td>
</tr>
<tr>
<td>relocating</td>
<td><code>Boolean</code></td>
<td></td>
</tr>
<tr>
<td>savings</td>
<td><code>Float</code></td>
<td></td>
</tr>
<tr>
<td>savings_min</td>
<td><code>Float</code></td>
<td></td>
</tr>
<tr>
<td>savings_max</td>
<td><code>Float</code></td>
<td></td>
</tr>
<tr>
<td>selling_property_description</td>
<td><code>String</code></td>
<td></td>
</tr>
<tr>
<td>showing_appointment</td>
<td><code>String</code></td>
<td>The time the lead is available for a showing appointment.</td>
</tr>
<tr>
<td>tags</td>
<td><code>String</code></td>
<td>General purpose tags for managing and tracking conversations. Will not be asked as a qualifier and is not used to generate responses.</td>
</tr>
<tr>
<td>technology</td>
<td><code>String</code></td>
<td>Special value: <code>open</code></td>
</tr>
<tr>
<td>tenure</td>
<td><code>String</code></td>
<td></td>
</tr>
<tr>
<td>time</td>
<td><code>String</code></td>
<td>Special value: <code>open</code></td>
</tr>
<tr>
<td>timeframe</td>
<td><code>String</code></td>
<td>The general timeframe a lead is looking to move within.</td>
</tr>
<tr>
<td>url</td>
<td><code>String</code></td>
<td></td>
</tr>
<tr>
<td>veteran</td>
<td><code>Boolean</code></td>
<td></td>
</tr>
<tr>
<td>veteran_service_disability</td>
<td><code>Boolean</code></td>
<td></td>
</tr>
<tr>
<td>work_history</td>
<td><code>String</code></td>
<td></td>
</tr>
</tbody></table>
<h3 id='conversations-slots-contexts-and-stages-contexts'>Contexts</h3>
<table><thead>
<tr>
<th>Name</th>
</tr>
</thead><tbody>
<tr>
<td>general</td>
</tr>
<tr>
<td>expect_address</td>
</tr>
<tr>
<td>expect_agent_status</td>
</tr>
<tr>
<td>expect_alternate_plan</td>
</tr>
<tr>
<td>expect_appointment</td>
</tr>
<tr>
<td>expect_baths</td>
</tr>
<tr>
<td>expect_beds</td>
</tr>
<tr>
<td>expect_business_development</td>
</tr>
<tr>
<td>expect_call_availability</td>
</tr>
<tr>
<td>expect_company_name</td>
</tr>
<tr>
<td>expect_competitor_status</td>
</tr>
<tr>
<td>expect_confidence</td>
</tr>
<tr>
<td>expect_contact_confirmation</td>
</tr>
<tr>
<td>expect_contact_time</td>
</tr>
<tr>
<td>expect_contingency</td>
</tr>
<tr>
<td>expect_credit</td>
</tr>
<tr>
<td>expect_credit_score</td>
</tr>
<tr>
<td>expect_debt_to_income</td>
</tr>
<tr>
<td>expect_decision_maker</td>
</tr>
<tr>
<td>expect_delivery_followup</td>
</tr>
<tr>
<td>expect_description</td>
</tr>
<tr>
<td>expect_down_payment</td>
</tr>
<tr>
<td>expect_email</td>
</tr>
<tr>
<td>expect_employment_status</td>
</tr>
<tr>
<td>expect_equity_status</td>
</tr>
<tr>
<td>expect_financial_default</td>
</tr>
<tr>
<td>expect_financing_status</td>
</tr>
<tr>
<td>expect_first_time_buyer</td>
</tr>
<tr>
<td>expect_fsbo_reason</td>
</tr>
<tr>
<td>expect_garage_stalls</td>
</tr>
<tr>
<td>expect_image</td>
</tr>
<tr>
<td>expect_income</td>
</tr>
<tr>
<td>expect_interest</td>
</tr>
<tr>
<td>expect_is_local</td>
</tr>
<tr>
<td>expect_language</td>
</tr>
<tr>
<td>expect_lead_type</td>
</tr>
<tr>
<td>expect_listing_appointment</td>
</tr>
<tr>
<td>expect_living_space</td>
</tr>
<tr>
<td>expect_loan_balance</td>
</tr>
<tr>
<td>expect_location</td>
</tr>
<tr>
<td>expect_lot_size</td>
</tr>
<tr>
<td>expect_meeting_location</td>
</tr>
<tr>
<td>expect_military_active_duty</td>
</tr>
<tr>
<td>expect_military_branch</td>
</tr>
<tr>
<td>expect_military_discharge_type</td>
</tr>
<tr>
<td>expect_military_reserves_service</td>
</tr>
<tr>
<td>expect_military_service_term</td>
</tr>
<tr>
<td>expect_mortgage_escrow</td>
</tr>
<tr>
<td>expect_mortgage_intent</td>
</tr>
<tr>
<td>expect_motivation</td>
</tr>
<tr>
<td>expect_motivation_plans</td>
</tr>
<tr>
<td>expect_name</td>
</tr>
<tr>
<td>expect_outcome</td>
</tr>
<tr>
<td>expect_ownership</td>
</tr>
<tr>
<td>expect_ownership_timeline</td>
</tr>
<tr>
<td>expect_phone</td>
</tr>
<tr>
<td>expect_preferred_channel</td>
</tr>
<tr>
<td>expect_price</td>
</tr>
<tr>
<td>expect_prior_loan_experience</td>
</tr>
<tr>
<td>expect_problem</td>
</tr>
<tr>
<td>expect_product_interest</td>
</tr>
<tr>
<td>expect_promotional_offer</td>
</tr>
<tr>
<td>expect_property_feature</td>
</tr>
<tr>
<td>expect_property_location</td>
</tr>
<tr>
<td>expect_property_preferences</td>
</tr>
<tr>
<td>expect_property_records</td>
</tr>
<tr>
<td>expect_property_status</td>
</tr>
<tr>
<td>expect_property_type</td>
</tr>
<tr>
<td>expect_property_value</td>
</tr>
<tr>
<td>expect_question</td>
</tr>
<tr>
<td>expect_readiness</td>
</tr>
<tr>
<td>expect_relocating</td>
</tr>
<tr>
<td>expect_savings</td>
</tr>
<tr>
<td>expect_selling_address</td>
</tr>
<tr>
<td>expect_showing_appointment</td>
</tr>
<tr>
<td>expect_time</td>
</tr>
<tr>
<td>expect_timeframe</td>
</tr>
<tr>
<td>expect_url</td>
</tr>
<tr>
<td>expect_veteran</td>
</tr>
<tr>
<td>expect_veteran_service_disability</td>
</tr>
</tbody></table>
<h3 id='conversations-slots-contexts-and-stages-stages'>Stages</h3>
<table><thead>
<tr>
<th>Name</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>not_responded</td>
<td>The lead has not responded in this conversation.</td>
</tr>
<tr>
<td>responded</td>
<td>The lead has responded in this conversation.</td>
</tr>
<tr>
<td>not_interested</td>
<td>The lead has indicated no interest or opted out of communication in this conversation.</td>
</tr>
<tr>
<td>interested</td>
<td>The lead has responded and has not been classified as not interested.</td>
</tr>
<tr>
<td>needs_follow_up</td>
<td>The lead has reached a conclusion in the conversation that requires further follow-up.</td>
</tr>
</tbody></table>
<h3 id='conversations-slots-contexts-and-stages-domains'>Domains</h3>
<p>To use domains other than the default real_estate domain, the domains have to be enabled in the settings and an appropriate lead type has to be selected in the lead_type slot. An example of using the mortgage scripts for a new home loan buyer would be to set the <code>allowedDomains</code> settings value to <code>[&quot;real_estate&quot;, &quot;mortgage&quot;]</code> and setting the lead_type slot to the values <code>&quot;buyer&quot;</code> and <code>&quot;new_home_loan&quot;</code>.</p>
<h2 id='conversations-create-conversation'>Create Conversation</h2><pre class="highlight shell tab-shell"><code>curl <span class="s1">'https://api.structurely.com/v1/conversations'</span> <span class="se">\</span>
  -X POST <span class="se">\</span>
  -H <span class="s1">'X-Api-Authorization: myapikey'</span> <span class="se">\</span>
  -H <span class="s1">'Content-Type: application/json'</span> <span class="se">\</span>
  -d <span class="s1">'{ "settings": { "timeZone": "America/Chicago" }, "slots": [{ "name": "email", "value": "jdoe@example.com" }], "messages": [{ "response": { "text": "Hello, what is your name?", "received": "2018-12-08T15:20:00.000Z" }, "context": "expect_name }, { "message": { "text": "John", "received": "2018-12-08T16:34:00.000Z" } }] }'</span>
</code></pre>
<blockquote>
<p>The above command returns JSON structured like this:</p>
</blockquote>
<pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
    </span><span class="s2">"id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"5c09a4416241ea2c293275b8"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"settings"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="s2">"holmesName"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Aisa"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"timeZone"</span><span class="p">:</span><span class="w"> </span><span class="s2">"America/Chicago"</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="s2">"slots"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
        </span><span class="p">{</span><span class="w">
            </span><span class="s2">"name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"email"</span><span class="p">,</span><span class="w">
            </span><span class="s2">"value"</span><span class="p">:</span><span class="w"> </span><span class="s2">"jdoe@example.com"</span><span class="w">
        </span><span class="p">}</span><span class="w">
    </span><span class="p">],</span><span class="w">
    </span><span class="s2">"muted"</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>
<p>This endpoint creates and returns a new conversation object.</p>
<h3 id='conversations-create-conversation-http-request'>HTTP Request</h3>
<p><code>POST https://api.structurely.com/v1/conversations</code></p>
<h3 id='conversations-create-conversation-body-parameters'>Body Parameters<a href="#conversations-schemas-conversation"><sup>[^]</sup></a></h3>
<table><thead>
<tr>
<th>Parameter</th>
<th>Type</th>
</tr>
</thead><tbody>
<tr>
<td>settings</td>
<td><code>ConversationSettings</code></td>
</tr>
<tr>
<td>slots</td>
<td><code>List&lt;ConversationSlot&gt;</code></td>
</tr>
<tr>
<td>muted</td>
<td><code>Boolean</code></td>
</tr>
<tr>
<td>messages</td>
<td><code>List&lt;ConversationItem&gt;</code></td>
</tr>
</tbody></table>

<aside class="notice">
Be sure to include the header `Content-Type: application/json` with your request.
</aside>
<h2 id='conversations-get-conversation'>Get Conversation</h2><pre class="highlight shell tab-shell"><code>curl <span class="s1">'https://api.structurely.com/v1/conversations/5c09a4416241ea2c293275b8'</span> <span class="se">\</span>
  -H <span class="s1">'X-Api-Authorization: myapikey'</span>
</code></pre>
<blockquote>
<p>The above command returns JSON structured like this:</p>
</blockquote>
<pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
    </span><span class="s2">"id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"5c09a4416241ea2c293275b8"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"settings"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="s2">"holmesName"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Aisa"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"timeZone"</span><span class="p">:</span><span class="w"> </span><span class="s2">"America/Chicago"</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="s2">"slots"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
        </span><span class="p">{</span><span class="w">
            </span><span class="s2">"name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"name"</span><span class="p">,</span><span class="w">
            </span><span class="s2">"value"</span><span class="p">:</span><span class="w"> </span><span class="s2">"John Doe"</span><span class="w">
        </span><span class="p">},</span><span class="w">
        </span><span class="p">{</span><span class="w">
            </span><span class="s2">"name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"email"</span><span class="p">,</span><span class="w">
            </span><span class="s2">"value"</span><span class="p">:</span><span class="w"> </span><span class="s2">"jdoe@example.com"</span><span class="w">
        </span><span class="p">},</span><span class="w">
        </span><span class="p">{</span><span class="w">
            </span><span class="s2">"name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"phone"</span><span class="p">,</span><span class="w">
            </span><span class="s2">"value"</span><span class="p">:</span><span class="w"> </span><span class="s2">"+15551234567"</span><span class="w">
        </span><span class="p">},</span><span class="w">
        </span><span class="p">{</span><span class="w">
            </span><span class="s2">"name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"address"</span><span class="p">,</span><span class="w">
            </span><span class="s2">"value"</span><span class="p">:</span><span class="w"> </span><span class="s2">"123 Main St."</span><span class="w">
        </span><span class="p">},</span><span class="w">
        </span><span class="p">{</span><span class="w">
            </span><span class="s2">"name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"agent_name"</span><span class="p">,</span><span class="w">
            </span><span class="s2">"value"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Andi Agent"</span><span class="w">
        </span><span class="p">},</span><span class="w">
        </span><span class="p">{</span><span class="w">
            </span><span class="s2">"name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"lead_types"</span><span class="p">,</span><span class="w">
            </span><span class="s2">"value"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
                </span><span class="s2">"buyer"</span><span class="w">
            </span><span class="p">]</span><span class="w">
        </span><span class="p">}</span><span class="w">
    </span><span class="p">],</span><span class="w">
    </span><span class="s2">"muted"</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>
<p>This endpoint returns a specific conversation.</p>
<h3 id='conversations-get-conversation-http-request'>HTTP Request</h3>
<p><code>GET https://api.structurely.com/v1/conversations/&lt;id&gt;</code></p>
<h3 id='conversations-get-conversation-url-parameters'>URL Parameters</h3>
<table><thead>
<tr>
<th>Parameter</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>id</td>
<td>The ID of the conversation to retrieve</td>
</tr>
</tbody></table>
<h2 id='conversations-update-conversation'>Update Conversation</h2><pre class="highlight shell tab-shell"><code>curl <span class="s1">'https://api.structurely.com/v1/conversations/5c09a4416241ea2c293275b8'</span> <span class="se">\</span>
  -X PATCH <span class="se">\</span>
  -H <span class="s1">'X-Api-Authorization: myapikey'</span> <span class="se">\</span>
  -H <span class="s1">'Content-Type: application/json'</span> <span class="se">\</span>
  -d <span class="s1">'{ "muted": true }'</span>
</code></pre>
<blockquote>
<p>The above command returns JSON structured like this:</p>
</blockquote>
<pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
    </span><span class="s2">"id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"5c09a4416241ea2c293275b8"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"settings"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="s2">"holmesName"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Aisa"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"timeZone"</span><span class="p">:</span><span class="w"> </span><span class="s2">"America/Chicago"</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="s2">"slots"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
        </span><span class="p">{</span><span class="w">
            </span><span class="s2">"name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"email"</span><span class="p">,</span><span class="w">
            </span><span class="s2">"value"</span><span class="p">:</span><span class="w"> </span><span class="s2">"jdoe@example.com"</span><span class="w">
        </span><span class="p">}</span><span class="w">
    </span><span class="p">],</span><span class="w">
    </span><span class="s2">"muted"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>
<p>This endpoint updates and returns a specific conversation object.</p>
<h3 id='conversations-update-conversation-http-request'>HTTP Request</h3>
<p><code>PATCH https://api.structurely.com/v1/conversations/&lt;id&gt;</code></p>
<h3 id='conversations-update-conversation-url-parameters'>URL Parameters</h3>
<table><thead>
<tr>
<th>Parameter</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>id</td>
<td>The ID of the conversation to update</td>
</tr>
</tbody></table>
<h3 id='conversations-update-conversation-body-parameters'>Body Parameters<a href="#conversations-schemas-conversation"><sup>[^]</sup></a></h3>
<table><thead>
<tr>
<th>Parameter</th>
<th>Type</th>
</tr>
</thead><tbody>
<tr>
<td>muted</td>
<td><code>Boolean</code></td>
</tr>
</tbody></table>

<aside class="notice">
Be sure to include the header `Content-Type: application/json` with your request.
</aside>
<h2 id='conversations-insert-slots'>Insert Slots</h2><pre class="highlight shell tab-shell"><code>curl <span class="s1">'https://api.structurely.com/v1/conversations/5c09a4416241ea2c293275b8/slots'</span> <span class="se">\</span>
  -X POST <span class="se">\</span>
  -H <span class="s1">'X-Api-Authorization: myapikey'</span> <span class="se">\</span>
  -H <span class="s1">'Content-Type: application/json'</span> <span class="se">\</span>
  -d <span class="s1">'[{ "name": "agent_name", "value": "Andi Agent" }]'</span>
</code></pre>
<blockquote>
<p>The above command returns an empty body with a 204 response</p>
</blockquote>

<p>This endpoint inserts the given slots to the conversation. Multi-valued slots will append the new values rather than replacing them. Returns a 204 response with an empty body.</p>
<h3 id='conversations-insert-slots-http-request'>HTTP Request</h3>
<p><code>POST https://api.structurely.com/v1/conversations/&lt;id&gt;/slots</code></p>
<h3 id='conversations-insert-slots-url-parameters'>URL Parameters</h3>
<table><thead>
<tr>
<th>Parameter</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>id</td>
<td>The ID of the conversation insert slots to</td>
</tr>
</tbody></table>
<h3 id='conversations-insert-slots-body-parameters'>Body Parameters</h3>
<p>The body is a list of objects</p>

<table><thead>
<tr>
<th>Type</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td><code>List&lt;ConversationSlot&gt;</code></td>
<td>The list of conversation slot objects</td>
</tr>
</tbody></table>

<aside class="notice">
Be sure to include the header `Content-Type: application/json` with your request.
</aside>
<h2 id='conversations-update-slots'>Update Slots</h2><pre class="highlight shell tab-shell"><code>curl <span class="s1">'https://api.structurely.com/v1/conversations/5c09a4416241ea2c293275b8/slots'</span> <span class="se">\</span>
  -X PATCH <span class="se">\</span>
  -H <span class="s1">'X-Api-Authorization: myapikey'</span> <span class="se">\</span>
  -H <span class="s1">'Content-Type: application/json'</span> <span class="se">\</span>
  -d <span class="s1">'[{ "name": "agent_name", "value": "Andi Agent" }]'</span>
</code></pre>
<blockquote>
<p>The above command returns an empty body with a 204 response</p>
</blockquote>

<p>This endpoint updates the given slots to the conversation. Multi-valued slots will be overwritten with the new values replacing the old ones. Returns a 204 response with an empty body.</p>
<h3 id='conversations-update-slots-http-request'>HTTP Request</h3>
<p><code>PATCH https://api.structurely.com/v1/conversations/&lt;id&gt;/slots</code></p>
<h3 id='conversations-update-slots-url-parameters'>URL Parameters</h3>
<table><thead>
<tr>
<th>Parameter</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>id</td>
<td>The ID of the conversation insert slots to</td>
</tr>
</tbody></table>
<h3 id='conversations-update-slots-body-parameters'>Body Parameters</h3>
<p>The body is a list of objects</p>

<table><thead>
<tr>
<th>Type</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td><code>List&lt;ConversationSlot&gt;</code></td>
<td>The list of conversation slot objects</td>
</tr>
</tbody></table>

<aside class="notice">
Be sure to include the header `Content-Type: application/json` with your request.
</aside>
<h2 id='conversations-upsert-slot'>Upsert Slot</h2><pre class="highlight shell tab-shell"><code>curl <span class="s1">'https://api.structurely.com/v1/conversations/5c09a4416241ea2c293275b8/slots/agent_name'</span> <span class="se">\</span>
  -X PUT <span class="se">\</span>
  -H <span class="s1">'X-Api-Authorization: myapikey'</span> <span class="se">\</span>
  -H <span class="s1">'Content-Type: application/json'</span> <span class="se">\</span>
  -d <span class="s1">'["Andi Agent"]'</span>
</code></pre>
<blockquote>
<p>The above command returns an empty body with a 204 response</p>
</blockquote>

<p>This endpoint updates the exsting slot with that name to the list of values provided. All slots, both multi-valued and single-valued are provided in an array. Make the array a single element array if the slot is single-valued. If the slot does not already exist with that name, it is inserted with all the values provided.</p>
<h3 id='conversations-upsert-slot-http-request'>HTTP Request</h3>
<p><code>PUT https://api.structurely.com/v1/conversations/&lt;id&gt;/slots/&lt;name&gt;</code></p>
<h3 id='conversations-upsert-slot-url-parameters'>URL Parameters</h3>
<table><thead>
<tr>
<th>Parameter</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>id</td>
<td>The ID of the conversation insert slots to</td>
</tr>
<tr>
<td>name</td>
<td>The name of the slot to update or insert</td>
</tr>
</tbody></table>
<h3 id='conversations-upsert-slot-body-parameters'>Body Parameters</h3>
<p>The body is a list of values</p>

<table><thead>
<tr>
<th>Type</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td><code>List&lt;Any&gt;</code></td>
<td>The list of slot values</td>
</tr>
</tbody></table>

<aside class="notice">
Be sure to include the header `Content-Type: application/json` with your request.
</aside>
<h2 id='conversations-create-message'>Create Message</h2><pre class="highlight shell tab-shell"><code>curl <span class="s1">'https://api.structurely.com/v1/conversations/5c09a4416241ea2c293275b8/messages'</span>
  -X POST <span class="se">\</span>
  -H <span class="s1">'X-Api-Authorization: myapikey'</span> <span class="se">\</span>
  -H <span class="s1">'Content-Type: application/json'</span> <span class="se">\</span>
  -d <span class="s1">'{ "text": "Hello World", "received": "2018-12-09T11:44:00.000Z" }'</span>
</code></pre>
<blockquote>
<p>The above command returns JSON structured like this:</p>
</blockquote>
<pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
    </span><span class="s2">"_metadata"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="s2">"conversation"</span><span class="p">:</span><span class="w"> </span><span class="s2">"5c09a4416241ea2c293275b8"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"messages"</span><span class="p">:</span><span class="w"> </span><span class="mi">2</span><span class="p">,</span><span class="w">
        </span><span class="s2">"responses"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="s2">"message"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="s2">"id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"5c09a45e6241ea2c293275bf"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"text"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Hello World"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"received"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2018-12-09T11:44:00.000Z"</span><span class="w">
    </span><span class="p">}</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>
<p>This endpoint creates a new lead message for the conversation for us to extract and classify.</p>
<h3 id='conversations-create-message-http-request'>HTTP Request</h3>
<p><code>POST https://api.structurely.com/v1/conversations/&lt;id&gt;/messages</code></p>
<h3 id='conversations-create-message-url-parameters'>URL Parameters</h3>
<table><thead>
<tr>
<th>Parameter</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>id</td>
<td>The ID of the conversation to retrieve</td>
</tr>
</tbody></table>
<h3 id='conversations-create-message-body-parameters'>Body Parameters<a href="#conversations-schemas-message"><sup>[^]</sup></a></h3>
<table><thead>
<tr>
<th>Parameter</th>
<th>Type</th>
</tr>
</thead><tbody>
<tr>
<td>text</td>
<td><code>String</code></td>
</tr>
<tr>
<td>received</td>
<td><code>DateTime</code></td>
</tr>
</tbody></table>

<aside class="notice">
Be sure to include the header `Content-Type: application/json` with your request.
</aside>
<h2 id='conversations-create-response'>Create Response</h2><pre class="highlight shell tab-shell"><code>curl <span class="s1">'https://api.structurely.com/v1/conversations/5c09a4416241ea2c293275b8/responses'</span>
  -X POST <span class="se">\</span>
  -H <span class="s1">'X-Api-Authorization: myapikey'</span> <span class="se">\</span>
  -H <span class="s1">'Content-Type: application/json'</span> <span class="se">\</span>
  -d <span class="s1">'{ "_metadata": { "context": "expect_showing_appointment" }, "text": "Hello There", "received": "2018-12-09T11:44:00.000Z" }'</span>
</code></pre>
<blockquote>
<p>The above command returns JSON structured like this:</p>
</blockquote>
<pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
    </span><span class="s2">"_metadata"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="s2">"conversation"</span><span class="p">:</span><span class="w"> </span><span class="s2">"5c09a4416241ea2c293275b8"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"context"</span><span class="p">:</span><span class="w"> </span><span class="s2">"expect_showing_appointment"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"messages"</span><span class="p">:</span><span class="w"> </span><span class="mi">2</span><span class="p">,</span><span class="w">
        </span><span class="s2">"responses"</span><span class="p">:</span><span class="w"> </span><span class="mi">2</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="s2">"response"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="s2">"id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"5c09a4416241ea2c293275b5"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"text"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Hello There"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"received"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2018-12-09T11:44:00.000Z"</span><span class="w">
    </span><span class="p">}</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>
<p>This endpoint creates a new system response for the conversation. This does nothing in our system other than act as a send receipt notifying us that an outbound message was sent on behalf of the system/realtor.</p>
<h3 id='conversations-create-response-http-request'>HTTP Request</h3>
<p><code>POST https://api.structurely.com/v1/conversations/&lt;id&gt;/responses</code></p>
<h3 id='conversations-create-response-url-parameters'>URL Parameters</h3>
<table><thead>
<tr>
<th>Parameter</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>id</td>
<td>The ID of the conversation to retrieve</td>
</tr>
</tbody></table>
<h3 id='conversations-create-response-body-parameters'>Body Parameters<a href="#conversations-schemas-message"><sup>[^]</sup></a></h3>
<table><thead>
<tr>
<th>Parameter</th>
<th>Type</th>
</tr>
</thead><tbody>
<tr>
<td>_metadata</td>
<td><code>MessageMetaData</code></td>
</tr>
<tr>
<td>text</td>
<td><code>String</code></td>
</tr>
<tr>
<td>received</td>
<td><code>DateTime</code></td>
</tr>
</tbody></table>

<aside class="notice">
Be sure to include the header `Content-Type: application/json` with your request.
</aside>
<h1 id='conversation-webhooks'>Conversation Webhooks</h1>
<p>The ConversationWebhook resource represents a url endpoint that will be called for certain actions called triggers. Examples of triggers include conversation updates, response creation, and fallback suggested. Each webhook belongs to an client/API key and all conversations created by that client will be linked to webhooks of the same client.</p>
<h2 id='conversation-webhooks-api-schemas'>API Schemas</h2><h3 id='conversation-webhooks-api-schemas-conversationwebhook'>ConversationWebhook</h3>
<table><thead>
<tr>
<th>Field</th>
<th>Type</th>
<th>Description</th>
<th>Readable?</th>
<th>Writable?</th>
<th>Required?</th>
<th>Default</th>
</tr>
</thead><tbody>
<tr>
<td>id</td>
<td><code>ObjectId</code></td>
<td>The ID of the conversation webhook this resource represents.</td>
<td>Yes</td>
<td>No</td>
<td>No</td>
<td></td>
</tr>
<tr>
<td>name</td>
<td><code>String</code></td>
<td>The user friendly name of the webhook. Has no functional value but useful for describing the webhook&#39;s purpose.</td>
<td>Yes</td>
<td>Yes</td>
<td>No</td>
<td></td>
</tr>
<tr>
<td>target</td>
<td><code>String</code></td>
<td>A valid url that the webhook payload will be sent to.</td>
<td>Yes</td>
<td>Yes</td>
<td>Yes</td>
<td></td>
</tr>
<tr>
<td>secret</td>
<td><code>String</code></td>
<td>A secret key that will be used as a http header to ensure the sender is our system.</td>
<td>Yes</td>
<td>No</td>
<td>No</td>
<td></td>
</tr>
<tr>
<td>version</td>
<td><code>String</code></td>
<td>A string indicating the API version. (e.g. &#39;v1&#39;)</td>
<td>Yes</td>
<td>No</td>
<td>No</td>
<td><code>&#39;v1&#39;</code></td>
</tr>
<tr>
<td>triggers</td>
<td><code>List&lt;String&gt;</code></td>
<td>The list of triggers this webhook is subscribed to.</td>
<td>Yes</td>
<td>Yes</td>
<td>Yes</td>
<td></td>
</tr>
<tr>
<td>createdAt</td>
<td><code>DateTime</code></td>
<td>The datetime string of when this webhook was created.</td>
<td>Yes</td>
<td>No</td>
<td>No</td>
<td></td>
</tr>
<tr>
<td>updatedAt</td>
<td><code>DateTime</code></td>
<td>The datetime string of when this webhook was last updated.</td>
<td>Yes</td>
<td>No</td>
<td>No</td>
<td></td>
</tr>
</tbody></table>
<h2 id='conversation-webhooks-webhook-schemas'>Webhook Schemas</h2><h3 id='conversation-webhooks-webhook-schemas-conversationslotupdate'>ConversationSlotUpdate</h3>
<table><thead>
<tr>
<th>Field</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>name</td>
<td><code>String</code></td>
<td>The name of the slot being updated.</td>
</tr>
<tr>
<td>action</td>
<td><code>String</code></td>
<td>The action to take on the slot. Either <code>&#39;set&#39;</code> or <code>&#39;push&#39;</code> for scalar or list types respectively.</td>
</tr>
<tr>
<td>value<a href="#webhook-schemas-note-1"><sup>[1]</sup></a></td>
<td><code>Any</code><a href="#webhook-schemas-note-2"><sup>[2]</sup></a></td>
<td>The new value being set for this slot. Only exists if the action is <code>&#39;set&#39;</code>.</td>
</tr>
<tr>
<td>values<a href="#webhook-schemas-note-1"><sup>[1]</sup></a></td>
<td><code>List&lt;Any&gt;</code><a href="#webhook-schemas-note-2"><sup>[2]</sup></a></td>
<td>The list of values being added to current list of values for this slot. Only exists if the action is <code>&#39;push&#39;</code>.</td>
</tr>
</tbody></table>
<h3 id='conversation-webhooks-webhook-schemas-conversationstageupdate'>ConversationStageUpdate</h3>
<table><thead>
<tr>
<th>Field</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>name</td>
<td><code>String</code></td>
<td>The name of the stage that is being added or removed from the stage list.</td>
</tr>
<tr>
<td>action</td>
<td><code>String</code></td>
<td>The action to take for this stage. Will be either <code>&#39;add&#39;</code> or <code>&#39;remove&#39;</code>.</td>
</tr>
<tr>
<td>reasons</td>
<td><code>List&lt;String&gt;</code></td>
<td>A list of reasons why this stage occurred. A list of either intent names or slot comparisons.</td>
</tr>
</tbody></table>
<h3 id='conversation-webhooks-webhook-schemas-conversationupdates'>ConversationUpdates</h3>
<table><thead>
<tr>
<th>Field</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>slots</td>
<td><code>List&lt;ConversationSlotUpdate&gt;</code><a href="#conversation-webhooks-webhook-schemas-conversationslotupdate"><sup>[^]</sup></a></td>
<td>Conversation slot updates.</td>
</tr>
<tr>
<td>stages</td>
<td><code>List&lt;ConversationStageUpdate&gt;</code><a href="#conversation-webhooks-webhook-schemas-conversationstageupdate"><sup>[^]</sup></a></td>
<td>Conversation stage updates.</td>
</tr>
</tbody></table>

<ol style="font-size: 12px">
    <li id="webhook-schemas-note-1"><code>value</code> and <code>values</code> are mutually exclusive. Only one will exist at a time and the other will be undefined.</li>
    <li id="webhook-schemas-note-2">See <a href="#conversations-slots-contexts-and-stages-slots">slots</a> for more info on each slot and it's type.</li>
</ol>
<h2 id='conversation-webhooks-conversation-webhook-overview'>Conversation Webhook Overview</h2>
<p>Webhooks are used to receive updates for conversations available on the API. These updates are used to notify when a conversations state has changed or when an action like sending a response should be taken. To use webhooks, create a webhook with the triggers that you want to listen for and the target set to an endpoint you control in your system.</p>
<h3 id='conversation-webhooks-conversation-webhook-overview-response-created'>Response Created</h3>
<blockquote>
<p>Response Created Example</p>
</blockquote>
<pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
    </span><span class="s2">"trigger"</span><span class="p">:</span><span class="w"> </span><span class="s2">"response:created"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"5c09a4416241ea2c293275b8"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"response"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="s2">"text"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Can you tell me more about the location you're interested in?"</span><span class="w">
    </span><span class="p">}</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre><h4 id='conversation-webhooks-conversation-webhook-overview-response-created-trigger'>Trigger</h4>
<p><code>response:created</code></p>
<h4 id='conversation-webhooks-conversation-webhook-overview-response-created-description'>Description</h4>
<p>This trigger is called when a new response for a conversation has been created. Responses are generated by Holmes for a message added to the relevant conversation. Use this event to know when and what to respond to a lead with after a lead sends a message.</p>
<h4 id='conversation-webhooks-conversation-webhook-overview-response-created-payload'>Payload</h4>
<table><thead>
<tr>
<th>Parameter</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>trigger</td>
<td><code>String</code></td>
<td>The trigger that triggered this webhook.</td>
</tr>
<tr>
<td>id</td>
<td><code>ObjectId</code></td>
<td>The id of the conversation.</td>
</tr>
<tr>
<td>response</td>
<td><code>Message</code><a href="#conversations-schemas-message"><sup>[^]</sup></a></td>
<td>A truncated <code>Message</code> object containing only the text field. The text was generated by Holmes to be sent as a response to a message created in this conversation.</td>
</tr>
</tbody></table>
<h3 id='conversation-webhooks-conversation-webhook-overview-conversation-updated'>Conversation Updated</h3>
<blockquote>
<p>Conversation Updated Example</p>
</blockquote>
<pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
    </span><span class="s2">"trigger"</span><span class="p">:</span><span class="w"> </span><span class="s2">"conversation:updated"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"5c09a4416241ea2c293275b8"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"updates"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="s2">"slots"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
            </span><span class="p">{</span><span class="w">
                </span><span class="s2">"name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"email"</span><span class="p">,</span><span class="w">
                </span><span class="s2">"action"</span><span class="p">:</span><span class="w"> </span><span class="s2">"set"</span><span class="p">,</span><span class="w">
                </span><span class="s2">"value"</span><span class="p">:</span><span class="w"> </span><span class="s2">"jdoe@example.com"</span><span class="w">
            </span><span class="p">},</span><span class="w">
            </span><span class="p">{</span><span class="w">
                </span><span class="s2">"name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"address"</span><span class="p">,</span><span class="w">
                </span><span class="s2">"action"</span><span class="p">:</span><span class="w"> </span><span class="s2">"push"</span><span class="p">,</span><span class="w">
                </span><span class="s2">"values"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="s2">"123 Main St."</span><span class="p">,</span><span class="w"> </span><span class="s2">"456 North Ave."</span><span class="p">]</span><span class="w">
            </span><span class="p">}</span><span class="w">
        </span><span class="p">],</span><span class="w">
        </span><span class="s2">"stages"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
            </span><span class="p">{</span><span class="w">
                </span><span class="s2">"name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"not_responded"</span><span class="p">,</span><span class="w">
                </span><span class="s2">"action"</span><span class="p">:</span><span class="w"> </span><span class="s2">"remove"</span><span class="p">,</span><span class="w">
                </span><span class="s2">"reasons"</span><span class="p">:</span><span class="w"> </span><span class="p">[]</span><span class="w">
            </span><span class="p">},</span><span class="w">
            </span><span class="p">{</span><span class="w">
                </span><span class="s2">"name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"responded"</span><span class="p">,</span><span class="w">
                </span><span class="s2">"action"</span><span class="p">:</span><span class="w"> </span><span class="s2">"add"</span><span class="p">,</span><span class="w">
                </span><span class="s2">"reasons"</span><span class="p">:</span><span class="w"> </span><span class="p">[]</span><span class="w">
            </span><span class="p">},</span><span class="w">
            </span><span class="p">{</span><span class="w">
                </span><span class="s2">"name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"needs_follow_up"</span><span class="p">,</span><span class="w">
                </span><span class="s2">"action"</span><span class="p">:</span><span class="w"> </span><span class="s2">"add"</span><span class="p">,</span><span class="w">
                </span><span class="s2">"reasons"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="s2">"financing_status is false"</span><span class="p">]</span><span class="w">
            </span><span class="p">}</span><span class="w">
        </span><span class="p">]</span><span class="w">
    </span><span class="p">}</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre><h4 id='conversation-webhooks-conversation-webhook-overview-conversation-updated-trigger'>Trigger</h4>
<p><code>conversation:updated</code></p>
<h4 id='conversation-webhooks-conversation-webhook-overview-conversation-updated-description'>Description</h4>
<p>This trigger is called when the convsersation object is updated. It will include the updates to the slots and stages. Use this to maintain state between your system and the Structurely API without polling.</p>
<h4 id='conversation-webhooks-conversation-webhook-overview-conversation-updated-payload'>Payload</h4>
<table><thead>
<tr>
<th>Parameter</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>trigger</td>
<td><code>String</code></td>
<td>The trigger that triggered this webhook.</td>
</tr>
<tr>
<td>id</td>
<td><code>ObjectId</code></td>
<td>The id of the conversation.</td>
</tr>
<tr>
<td>updates</td>
<td><code>ConversationUpdates</code><a href="#conversation-webhooks-webhook-schemas-conversationupdates"><sup>[^]</sup></a></td>
<td>The updates to the conversation stages and slots.</td>
</tr>
</tbody></table>
<h2 id='conversation-webhooks-list-conversation-webhooks'>List Conversation Webhooks</h2><pre class="highlight shell tab-shell"><code>curl <span class="s1">'https://api.structurely.com/v1/conversationWebhooks?name=My%20&amp;trigger=response:created'</span> <span class="se">\</span>
    -H <span class="s1">'X-Api-Authorization: myapikey'</span>
</code></pre>
<blockquote>
<p>The above command returns JSON structured like this:</p>
</blockquote>
<pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
    </span><span class="s2">"_metadata"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="s2">"collection"</span><span class="p">:</span><span class="w"> </span><span class="s2">"conversationWebhooks"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"limit"</span><span class="p">:</span><span class="w"> </span><span class="mi">10</span><span class="p">,</span><span class="w">
        </span><span class="s2">"offset"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
        </span><span class="s2">"total"</span><span class="p">:</span><span class="w"> </span><span class="mi">2</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="s2">"conversationWebhooks"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
        </span><span class="p">{</span><span class="w">
            </span><span class="s2">"id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"5ceec43ce1b5b412ba9d0e73"</span><span class="p">,</span><span class="w">
            </span><span class="s2">"name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"My Webhook"</span><span class="p">,</span><span class="w">
            </span><span class="s2">"target"</span><span class="p">:</span><span class="w"> </span><span class="s2">"https://www.example.com/webhooks/endpoint"</span><span class="p">,</span><span class="w">
            </span><span class="s2">"secret"</span><span class="p">:</span><span class="w"> </span><span class="s2">"nLjs7uu5AvQfTjqXpXHnSOfj0h8bvc0w0eeZNWgFR1pJo9Gb"</span><span class="p">,</span><span class="w">
            </span><span class="s2">"version"</span><span class="p">:</span><span class="w"> </span><span class="s2">"v1"</span><span class="p">,</span><span class="w">
            </span><span class="s2">"triggers"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="s2">"conversation:updated"</span><span class="p">,</span><span class="w"> </span><span class="s2">"response:created"</span><span class="p">],</span><span class="w">
            </span><span class="s2">"updatedAt"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2019-05-29T12:41:16.000Z"</span><span class="p">,</span><span class="w">
            </span><span class="s2">"createdAt"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2019-05-29T12:41:16.000Z"</span><span class="w">
        </span><span class="p">},</span><span class="w">
        </span><span class="p">{</span><span class="w">
            </span><span class="s2">"id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"5ceed39ce1b5b412ba9d0e74"</span><span class="p">,</span><span class="w">
            </span><span class="s2">"name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"My Other Webhook"</span><span class="p">,</span><span class="w">
            </span><span class="s2">"target"</span><span class="p">:</span><span class="w"> </span><span class="s2">"https://hooks.example.com/structurely/response_created"</span><span class="p">,</span><span class="w">
            </span><span class="s2">"secret"</span><span class="p">:</span><span class="w"> </span><span class="s2">"ZQjevvm3JW7Y8drTROfoRokuYR75BPpAq7NDj0MYkQS2pQVa"</span><span class="p">,</span><span class="w">
            </span><span class="s2">"version"</span><span class="p">:</span><span class="w"> </span><span class="s2">"v1"</span><span class="p">,</span><span class="w">
            </span><span class="s2">"triggers"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="s2">"response:created"</span><span class="p">],</span><span class="w">
            </span><span class="s2">"updatedAt"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2019-05-29T13:48:20.000Z"</span><span class="p">,</span><span class="w">
            </span><span class="s2">"createdAt"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2019-05-29T13:48:20.000Z"</span><span class="w">
        </span><span class="p">}</span><span class="w">
    </span><span class="p">]</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>
<p>This endpoint returns all webhooks that match the provided parameters. The objects returned will match all the provided parameters.</p>
<h3 id='conversation-webhooks-list-conversation-webhooks-http-request'>HTTP Request</h3>
<p><code>GET https://api.structurely.com/v1/conversationWebhooks</code></p>
<h3 id='conversation-webhooks-list-conversation-webhooks-query-parameters'>Query Parameters</h3>
<table><thead>
<tr>
<th>Parameter</th>
<th>Type</th>
<th>Description</th>
<th>Required?</th>
<th>Default</th>
</tr>
</thead><tbody>
<tr>
<td>limit</td>
<td><code>Integer[1,100]</code></td>
<td>The number of results to return</td>
<td>No</td>
<td><code>10</code></td>
</tr>
<tr>
<td>offset</td>
<td><code>Integer[0,)</code></td>
<td>Indicates the number of results to skip</td>
<td>No</td>
<td><code>0</code></td>
</tr>
<tr>
<td>sort<a href="#list-conversationwebhooks-note-1"><sup>[1]</sup></a></td>
<td><code>String</code></td>
<td>A comma separated list of fields to sort by</td>
<td>No</td>
<td><code>-createdAt</code></td>
</tr>
<tr>
<td>name<a href="#list-conversationwebhooks-note-2"><sup>[2]</sup></a></td>
<td><code>String</code></td>
<td>A partial or full name of a webhook to search</td>
<td>No</td>
<td>None</td>
</tr>
<tr>
<td>target</td>
<td><code>String</code></td>
<td>A exact URL target of a webhook to match</td>
<td>No</td>
<td>None</td>
</tr>
<tr>
<td>trigger</td>
<td><code>String</code></td>
<td>An exact trigger that must be in a matched webhooks triggers list. Matched webhooks must include this trigger exactly. Matched webhooks may include other triggers.</td>
<td>No</td>
<td>None</td>
</tr>
</tbody></table>

<ol style="font-size: 12px">
  <li id="list-conversationwebhooks-note-1">The sort string allows multiple fields with left to right precedence with optional <code>-</code> or <code>+</code> for controlling ascending and descending order</li>
  <li id="list-conversationwebhooks-note-2">String search fields use a case insensitive partial filter that can match any part of the string unless otherwise noted</li>
</ol>

<aside class="notice">
Be sure to replace myapikey with your API key.
</aside>
<h2 id='conversation-webhooks-create-conversation-webhook'>Create Conversation Webhook</h2><pre class="highlight shell tab-shell"><code>curl <span class="s1">'https://api.structurely.com/v1/conversationWebhooks'</span> <span class="se">\</span>
  -X POST <span class="se">\</span>
  -H <span class="s1">'X-Api-Authorization: myapikey'</span> <span class="se">\</span>
  -H <span class="s1">'Content-Type: application/json'</span> <span class="se">\</span>
  -d <span class="s1">'{ "name": "My Webhook", "target": "https://www.example.com/webhooks/endpoint", "triggers": ["conversation:updated", "response:created"] }'</span>
</code></pre>
<blockquote>
<p>The above command returns JSON structured like this:</p>
</blockquote>
<pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
    </span><span class="s2">"id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"5ceec43ce1b5b412ba9d0e73"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"My Webhook"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"target"</span><span class="p">:</span><span class="w"> </span><span class="s2">"https://www.example.com/webhooks/endpoint"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"secret"</span><span class="p">:</span><span class="w"> </span><span class="s2">"nLjs7uu5AvQfTjqXpXHnSOfj0h8bvc0w0eeZNWgFR1pJo9Gb"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"version"</span><span class="p">:</span><span class="w"> </span><span class="s2">"v1"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"triggers"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="s2">"conversation:updated"</span><span class="p">,</span><span class="w"> </span><span class="s2">"response:created"</span><span class="p">],</span><span class="w">
    </span><span class="s2">"updatedAt"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2019-05-29T12:41:16Z"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"createdAt"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2019-05-29T12:41:16Z"</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>
<p>This endpoint creates and returns a new conversation webhook.</p>
<h3 id='conversation-webhooks-create-conversation-webhook-http-request'>HTTP Request</h3>
<p><code>POST https://api.structurely.com/v1/conversationWebhooks</code></p>
<h3 id='conversation-webhooks-create-conversation-webhook-body-parameters'>Body Parameters<a href="#conversation-webhooks-api-schemas-conversationwebhook"><sup>[^]</sup></a></h3>
<table><thead>
<tr>
<th>Parameter</th>
<th>Type</th>
</tr>
</thead><tbody>
<tr>
<td>name</td>
<td><code>String</code></td>
</tr>
<tr>
<td>target</td>
<td><code>String</code></td>
</tr>
<tr>
<td>triggers</td>
<td><code>List&lt;String&gt;</code></td>
</tr>
</tbody></table>

<aside class="notice">
Be sure to include the header `Content-Type: application/json` with your request.
</aside>
<h2 id='conversation-webhooks-get-conversation-webhook'>Get Conversation Webhook</h2><pre class="highlight shell tab-shell"><code>curl <span class="s1">'https://api.structurely.com/v1/conversationWebhooks/5ceec43ce1b5b412ba9d0e73'</span> <span class="se">\</span>
    -H <span class="s1">'X-Api-Authorization: myapikey'</span>
</code></pre>
<blockquote>
<p>The above command returns JSON structured like this:</p>
</blockquote>
<pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
    </span><span class="s2">"id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"5ceec43ce1b5b412ba9d0e73"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"My Webhook"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"target"</span><span class="p">:</span><span class="w"> </span><span class="s2">"https://www.example.com/webhooks/endpoint"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"secret"</span><span class="p">:</span><span class="w"> </span><span class="s2">"nLjs7uu5AvQfTjqXpXHnSOfj0h8bvc0w0eeZNWgFR1pJo9Gb"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"version"</span><span class="p">:</span><span class="w"> </span><span class="s2">"v1"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"triggers"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="s2">"conversation:updated"</span><span class="p">,</span><span class="w"> </span><span class="s2">"response:created"</span><span class="p">],</span><span class="w">
    </span><span class="s2">"updatedAt"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2019-05-29T12:41:16Z"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"createdAt"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2019-05-29T12:41:16Z"</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre><h3 id='conversation-webhooks-get-conversation-webhook-http-request'>HTTP Request</h3>
<p><code>GET https://api.structurely.com/v1/conversationWebhooks/&lt;id&gt;</code></p>
<h3 id='conversation-webhooks-get-conversation-webhook-url-parameters'>URL Parameters</h3>
<table><thead>
<tr>
<th>Parameter</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>id</td>
<td>The ID of the conversation webhook to retrieve</td>
</tr>
</tbody></table>
<h2 id='conversation-webhooks-update-conversation-webhook'>Update Conversation Webhook</h2><pre class="highlight shell tab-shell"><code>curl <span class="s1">'https://api.structurely.com/v1/conversationWebhooks/5ceec43ce1b5b412ba9d0e73'</span> <span class="se">\</span>
    -X PATCH <span class="se">\</span>
    -H <span class="s1">'X-Api-Authorization: myapikey'</span> <span class="se">\</span>
    -H <span class="s1">'Content-Type: application/json'</span> <span class="se">\</span>
    -d <span class="s1">'{ "name": "My Cool Webhook", "target": "https://hooks.example.com/structurely/conversation_updated", "triggers": ["conversation:updated"] }'</span>
</code></pre>
<blockquote>
<p>The above command returns JSON structured like this:</p>
</blockquote>
<pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
    </span><span class="s2">"id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"5ceec43ce1b5b412ba9d0e73"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"My Cool Webhook"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"target"</span><span class="p">:</span><span class="w"> </span><span class="s2">"https://hooks.example.com/structurely/conversation_updated"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"secret"</span><span class="p">:</span><span class="w"> </span><span class="s2">"nLjs7uu5AvQfTjqXpXHnSOfj0h8bvc0w0eeZNWgFR1pJo9Gb"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"version"</span><span class="p">:</span><span class="w"> </span><span class="s2">"v1"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"triggers"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="s2">"conversation:updated"</span><span class="p">],</span><span class="w">
    </span><span class="s2">"updatedAt"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2019-05-29T12:41:16Z"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"createdAt"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2019-05-29T12:41:16Z"</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre><h3 id='conversation-webhooks-update-conversation-webhook-http-request'>HTTP Request</h3>
<p><code>PATCH https://api.structurely.com/v1/conversationWebhooks/&lt;id&gt;</code></p>
<h3 id='conversation-webhooks-update-conversation-webhook-url-parameters'>URL Parameters</h3>
<table><thead>
<tr>
<th>Parameter</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>id</td>
<td>The ID of the conversation webhook to update</td>
</tr>
</tbody></table>
<h3 id='conversation-webhooks-update-conversation-webhook-body-parameters'>Body Parameters<a href="#conversation-webhooks-api-schemas-conversationwebhook"><sup>[^]</sup></a></h3>
<table><thead>
<tr>
<th>Parameter</th>
<th>Type</th>
</tr>
</thead><tbody>
<tr>
<td>name</td>
<td><code>String</code></td>
</tr>
<tr>
<td>target</td>
<td><code>String</code></td>
</tr>
<tr>
<td>triggers</td>
<td><code>List&lt;String&gt;</code></td>
</tr>
</tbody></table>

<aside class="notice">
Be sure to include the header `Content-Type: application/json` with your request.
</aside>
<h2 id='conversation-webhooks-delete-conversation-webhook'>Delete Conversation Webhook</h2><pre class="highlight shell tab-shell"><code>curl <span class="s1">'https://api.structurely.com/v1/conversationWebhooks/5ceec43ce1b5b412ba9d0e73'</span> <span class="se">\</span>
    -X DELETE
    -H <span class="s1">'X-Api-Authorization: myapikey'</span>
</code></pre>
<blockquote>
<p>The above command returns an empty response with the status 204 if successful</p>
</blockquote>
<h3 id='conversation-webhooks-delete-conversation-webhook-http-request'>HTTP Request</h3>
<p><code>DELETE https://api.structurely.com/v1/conversationWebhooks/&lt;id&gt;</code></p>
<h3 id='conversation-webhooks-delete-conversation-webhook-url-parameters'>URL Parameters</h3>
<table><thead>
<tr>
<th>Parameter</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>id</td>
<td>The ID of the conversation webhook to delete</td>
</tr>
</tbody></table>
<h1 id='errors'>Errors</h1>
<p>The Holmes API uses the following error codes:</p>

<table><thead>
<tr>
<th>Error Code</th>
<th>Meaning</th>
</tr>
</thead><tbody>
<tr>
<td>400</td>
<td>Bad Request -- Your request was invalid.</td>
</tr>
<tr>
<td>401</td>
<td>Unauthorized -- No API key provided.</td>
</tr>
<tr>
<td>403</td>
<td>Forbidden -- Your API key is invalid.</td>
</tr>
<tr>
<td>404</td>
<td>Not Found -- The specified resource could not be found.</td>
</tr>
<tr>
<td>405</td>
<td>Method Not Allowed -- You tried to access an endpoint with an invalid method.</td>
</tr>
<tr>
<td>500</td>
<td>Internal Server Error -- We had a problem with our server. Try again later.</td>
</tr>
<tr>
<td>502</td>
<td>Bad Gateway -- Our backend services are unavailable. Please try again later.</td>
</tr>
<tr>
<td>503</td>
<td>Service Unavailable -- We&#39;re temporarily offline for maintenance. Please try again later.</td>
</tr>
<tr>
<td>504</td>
<td>Gateway Timeout -- Our backend services are taking too long to respond. Please try again later.</td>
</tr>
</tbody></table>

      </div>
      <div class="dark-box">
          <div class="lang-selector">
                <a href="#" data-language-name="curl">curl</a>
          </div>
      </div>
    </div>

    <script>
      window.intercomSettings = {
        app_id: "nvyqhgbn"
      };
    </script>
    <script>(function(){var w=window;var ic=w.Intercom;if(typeof ic==="function"){ic('reattach_activator');ic('update',intercomSettings);}else{var d=document;var i=function(){i.c(arguments)};i.q=[];i.c=function(args){i.q.push(args)};w.Intercom=i;function l(){var s=d.createElement('script');s.type='text/javascript';s.async=true;s.src='https://widget.intercom.io/widget/nvyqhgbn';var x=d.getElementsByTagName('script')[0];x.parentNode.insertBefore(s,x);}if(w.attachEvent){w.attachEvent('onload',l);}else{w.addEventListener('load',l,false);}}})()</script>
  </body>
</html>
